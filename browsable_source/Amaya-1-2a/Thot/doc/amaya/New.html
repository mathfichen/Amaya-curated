<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>
Amaya New Features History</title>
</head>
<body lang="en">

<div id="head">
<p>
<a href="../../"><img border="0" alt="W3C" src="../../Icons/WWW/w3c_home"></a>
<a href="../"><img border="0" src="../Icons/amaya.gif" alt="Amaya"></a> <a
href="Manual.html"><img border="0" src="../Icons/doc48x.gif"
alt="Doc"></a></p>
</div>
<p>
This file indicates the new features you can find in the latest versions of
Amaya.</p>

<h1>Fixed bugs in Amaya 1.2a</h1>
<p>
March 27, 1998</p>
<p>
<strong>New</strong>: When Amaya crashes on Unix platforms, modified documents
are now automatically saved in temporary files $HOME/.amaya/%name.html.
</p>
<ul>
<li>
Sometimes when creating a link Amaya crashed.
<li>
Amaya could also crashed if the user edited a page when Amaya was downloading
a new one.
<li>
Back button didn't work sometimes when aborting the reload of a document.
<li>
Couldn't follow local relative links when they specified the name of the
document.
<li>
Back button didn't work sometimes when aborting the reload of a document.
<li>
Improving table editing and formatting.
<li>
Table are now displayed differently in Alternate view.
<li>
On windows platforms, the scroll could carry on pieces of overlapping windows.
<li>
There was a problem with picture display when the document was scrolled.
<li>
Amaya didn't download the new image when the attribute SRC was edited.
<li><p>
Areas with shape=rectangle or circle were not updated when the associated
image was resized and Amaya didn't redisplay correctly an image when width 
and/or height attributes were deleted.</p>
<li>
Error in area map parsing.
<li>
Amaya didn't manage bacground images like other image in documents. Now Amaya
is able to compute their relative URLs and save them.
<li><p>
During parsing, when anchors were not properly closed Amaya repeated them.</p>
<li><p>
Hitting the Enter key several times at the end (or beginning) of a table
created a new, empty table. It now creates an empty element after (or before)
the table.</p>
<li><p>
Hitting the Enter key when a HR is selected created an additional HR. It now
creates an empty element after the selected HR</p>
<li>
Amaya was stuck in an infinite loop when a BR was deleted by BackSpace.
<li>
Document was not set modifed when a link was changed or a span was created and
modifications could be lost.
<li>
When opening the CSS Dialog window my .amaya.css file was not automatically
opened and loaded. Windows users can now define a User's Preferences file:
<code>Thot/amaya/amaya.css</code>.
<li>
 When clicking on remove icon in CSS Dialog Amaya crashed.
<li>
After modifying CSS the Save button popped up an infinite number of save
windows.
<li><p>
There were memory leaks in windows version.</p>
</ul>

<h1>Amaya 1.2</h1>
<p>
February 4, 1998</p>

<h3>Windows improvements:</h3>
<ul>
<li>
handling of the stop button
<li>
keyboard shortcuts for editing commands
<li>
saving as a PostScript file
<li>
scrolling and editing
</ul>

<h3>Global improving (Windows and Unix versions):</h3>
<ul>
<li>
table formatting: a new implementation has been done
<li>
extension to support Latin 2 languages in documents
<li>
proxy specification
<li>
further work on the MathML application
<li>
other minor bugs
</ul>

<h1>Fixed bugs in Amaya 1.1c</h1>
<p>
November 17, 1997</p>

<h3>The following points are improved in Windows version:</h3>
<ul>
<li>
256 color mode for windows,
<li>
background images and image transparency,
<li>
keyboard management,
<li>
opening files from text zones and toolbar management,
<li>
HTML forms,
<li>
links management in local files.
</ul>

<h3>Global improving (Windows and Unix versions):</h3>
<ul>
<li>
CSS background  rule,
<li>
saving in ASCII format,
<li>
editing of hotzones in image maps (not available yet in Windows version),
<li>
the "Make Book" function,
<li>
the help in line,
<li>
other minor reported bugs are now fixed.
</ul>

<h1>New features in Amaya 1.1</h1>
<p>
July 10 and September 15, 1997</p>

<h2>Extensions</h2>
<ul>
<li>
Anchors and ID attributes:
<ul>
<li>
When Amaya parses a document it checks that all MAPs have a different NAME,
and it changes duplicate NAMEs. The USEMAP attribute of the related IMG
element is updated accordingly.
<li>
The function "Create Target" generates an attribute NAME or ID depending on
the current selection. - If the DTD allows the insertion of an anchor as the
parent of the current selection, Amaya creats an anchor and takes the first
included word of more than 3 characters as the value of the NAME attribute. -
If a single structured element is selected (DIV, H1, etc.), Amaya generates an
ID attribute for this structured element. The ID value is generated, like the
NAME value, after the included text. Amaya checks that the new NAME or ID
value is unique. If it's not the case it changes the value by adding a number
at the end of the word. For example, it generates "value1" if "value" already
exists in the document.
<li>
When an anchor with a NAME attribute or an element with an ID attribute is
pasted, Amaya checks that the new NAME or ID value is unique and changes it if
it's not unique.
<li>
Functions which create a MAP element generates automatically a NAME with value
"map". Amaya checks that the new NAME value is unique.
<li>
When an IMG with a USEMAP attribute is pasted, Amaya remove this attribute,
and when an IMG with a USEMAP attribute is deleted, it does take care of the
related MAP element. The document author is supposed to delete this MAP or  to
link it to another IMG element.
</ul>
<li>
Links:
<p>
The functions "Create Link" and "Change Link" create an anchor if the DTD
allows the insertion of an anchor as the parent of the current selection. Then
the user can click a target anchor or a target document or a structured
element with an ID attribute. - If it's not a valid target, Amaya displays a
form to insert the HREF value. - If the user clicks on a valid target, Amaya
generates automatically the HREF value. In both cases, Amaya transforms the
HREF value to make it relative to the document base (the BASE element value or
the current document URL).</p>
<p>
When an anchor with a HREF attribute is pasted, Amaya transforms the HREF
value to make it relative to the document base.</p>
<li>
Images:
<p>
The function "Create Image" creates the SRC value relatively to the document
base (the BASE element value or the current document URL). Amaya also creates
the ALT attribute and initializes its value with the image name.</p>
<p>
When an IMG is pasted, Amaya transforms the SRC value to make it relative to
the document base.</p>
<li>
Publishing:
<ul>
<li><p>
Button "Copy Images" indicates that images have to be copied into: - the new
document directory (on the remote server or locally), - the new image
directory, if there is a specified image directory.</p>
<li><p>
Button "Transform URLs" indicates that all URLs and SRCs are recomputed when
saving the document. In both cases, Amaya generates relative URLs when it's
possible.</p>
</ul>
<li>
Customization: Each user can define his/her personal file HTML.conf in his/her
HOME directory. So each individual user can now customize size and position of
Amaya windows.
<li>
Java: Upgraded to Kaffe-0.9.1 using the JDK 1.1.2 classes. The mechanism to
access Java objects content has been cleaned up and should be ready for 64 bit
targets. Java stubs are not distributed anymore, the Makefiles produced by
autoconf build them on the fly to avoid conflict in case of changes in the
HTML schemas. General improvements for the Java classes embedding access to
the document C objects.
<li>
Math: This version of Amaya contains an embryonic MathML editor, that allows
mathematical expressions to be embedded in HTML pages.  It implements a subset
of the MathML specification. This feature should be considered as a
demonstration, as it is very incomplete. More in next releases.
<li>
MS/Windows This is the first version of Amaya that runs on Microsoft Windows
(both Windows 95 and Windows/NT).
</ul>

<h2>Fixed bugs</h2>
<ul>
<li><p>
Spaces were not accepted in end tags. For instance, <code>&lt;/STRONG ></code>
was considered invalid. It is accepted now.</p>
<li><p>
Amaya refused to create an Image before an Image. Now it works.</p>
<li><p>
Sometimes, active zones were not created.</p>
<li><p>
Using Style forms, the text was displayed correctly, but the style attribute
registered the previous style value instead of the new one.</p>
</ul>
<p>
</p>
<hr>

<h1>New features in Amaya 1.0 and 1.0a</h1>
<p>
<em>April 3 1997 and May 7, 1997</em></p>

<h2>Extensions</h2>
<ul>
<li>
A new command to create OBJECTs (HTML-Cougar) in Types menu.
<li>
A <a href="Plugins.html">plug-in</a> mechanism allows OBJECTs to be executed.
<li><p>
Attribute LANG (HTML-Cougar) is implemented (see Attributes menu)</p>
<li><p>
Elements SPAN (HTML-Cougar) are automatically created and deleted</p>
<li><p>
Two new views are available (see the Views menu):</p>
<ul>
<li><p>
Links view shows and allows to edit all links in the document.</p>
<li><p>
Table of Contents displays and allows to edit all (and only) headings
(Hn).</p>
</ul>
<p>
Like the Alternate and Structure view, these new views are "synchronised" with
the other views of the document. These views can be printed with the document
(see the Setup and Print command)</p>
<li><p>
The Help button loads the Amaya documentation.</p>
<li><p>
New menu "Special" with the following commands:</p>
<ul>
<li><p>
Transform (was the last item of the Types menu): structure transformations</p>
<li><p>
Section Numbering: numbers headings (Hn) in the main view and in the table of
contents. Numbers are automatically updated when headers are inserted or
deleted. Section numbers are not saved with the document, but they are printed
if numbering is active when the Print command is issued.</p>
<li>
Make Book: allows to merge several HTML documents into a single one (for
printing a collection, for instance). This is based on typed links
(rel="chapter").
</ul>
<li>
Printing has been extended:
<ul>
<li>
"Setup and Print": this command proposes to change print options before
printing. Parameters ManualFeed, Table of contents, Numbered links and default
PostScript file name are reset when a new document is printed. New options
are:
<ul>
<li>
Table of contents: prints the Table_of_contents view of the document.
<li>
Numbered links: numbers links in the main view and prints them.
</ul>
<li>
"Print": this command prints the document with the print parameters defined in
previous "Setup and Print" command.
</ul>
<li>
Directories are no longer automatically browsed when the user inserts them in
the "Open Location" form. A new button (List) is added in this form that
allows to explicitly browse the current directory.
<li>
It's now possible to extend dictionaries used by the spell-checker. When the
user clicks on a (+dic) button in the spell-checker form, the current word is
added to the common extensible dictionary. By default this common dictionary
is located in $HOME/.thot.DIC, but the user can change this location in the
.thotrc registry: EXTENDDICT=
<li>
Documents can be saved in text form (see Save As command), with a list of URLS
for external links.
<li>
Images are zoomed according to attributes width and height. Combining the
Control key with the Middle button of the mouse allows the user to easily
resize an image.
<li>
CSS: More properties are supported: background-color, background-image,
background-repeat, text-align.
<li>
The registry now supports $(MACHINE) for architecture dependent paths.
<li>
Java support: Amaya now integrates the Java Kaffe runtime. This version uses
the Jigsaw HTTP/1.1 classes to do network access, and provide a user cache.
Most of the Thot API is available from the Java language offering an easy
customization path for Amaya users. This also simplifies significantly the use
of Amaya as a testbed since a lot of developements are done in Java and can
easily be integrated to the existing base.
<li>
HTML markup is now in lowercase, to improve efficiency of compression tools.
</ul>
<p>
</p>

<h2>Fixed bug</h2>
<ul>
<li>
When saving a document in HTML, Amaya omitted quotes around some attribute
values.
<li>
When inserting an anchor around a sample image, the image was sometimes lost.
<li>
On 1 bit per pixel screens, buttons in dialog boxes were entirely black and
selection was invisible.
<li>
Amaya didn't select any element or character when the mouse was out of
document limits.
<li>
Some improvements to table formatting (cells containing a single IMG with a
width attribute are formatted correctly).
<li>
Creation of new definitions (DD) at the beginning of a definition list (DL) is
now possible.
<li>
Amaya tried to interpret "&amp;" followed by a non-letter as an entity. It's
now interpreted as ordinary text.
<li>
When a &lt;TD> tag follows a &lt;TABLE> tag without a &lt;TR> in between, a
WIDTH attribute associated with &lt;TD> was considered invalid.
<li>
Amaya created additional &lt;P> tags in table cells and list items.
<li>
tags such as &lt;B>, &lt;I>, &lt;EM>, etc. caused troubles in &lt;PRE>
elements.
</ul>
<hr>

<h1>New features in Amaya 0.95b</h1>
<p>
<em>January 9, 1996</em></p>

<h2>Extensions</h2>
<ul>
<li>
Attributes height and width are taken into account for IMG, TD and TH.
<li>
Tooltips (aka tips) are available on buttons.
<li>
A message is displayed at the bottom of the window when the document is saved.
<li>
Creation of definition lists (DL) is easier.
<li>
Added Two new buttons, to create links and tables.
<li>
Amaya can now uncompress gziped HTML files.
<li>
Sends an Accept header corresponding to the MIME types Amaya can display
</ul>

<h2>Fixed bugs</h2>
<ul>
<li>
The main view (Formatted_view) of HTML documents was always placed at the top
left corner of the screen. The position specified in the HTML.conf file was
ignored.
<li>
Under certain conditions, it was possible to create several BODY or HEAD
elements in the same document.
<li>
It was sometimes necessary to activate the Close View command twice for
actually closing the Structure view.
<li>
In some tables, columns containing badly structured cells were sometimes moved
to the left side of the table.
<li>
When an image was within a paragraph with some text, and with a caret on its
right or left edge, pressing keys Enter, Del and BackSpace led to strange
results.
<li>
Submitting a form always sent the value attribute of the Submit button,
regardless of whether a name attribute was present or not. Other minor
problems with form selection were fixed up.
<li>
Amaya didn't support invalid base like a complete document URL.
<li>
Amaya didn't support invalid attributes in BASE element.
<li>
Under certain conditions, copy and paste of images between documents didn't
work.
<li>
Under certain conditions, some images were not published.
<li>
When publishing, Amaya did not sent a Content-Type header.
</ul>
<hr>

<h1>New features in Amaya 0.9</h1>
<p>
<em>November 14, 1996</em></p>

<h2>Extensions</h2>
<ul>
<li>
Structure transformation (command Types/Transform)
<ul>
<li>
more efficient pattern matching algorithm
<li>
more structure checking: transformations are not proposed to the user if they
lead to an invalid structure (even if the transformation is matched with the
selection).
<li>
the last modification time of the file <code>HTML.trans</code> is checked
before it is parsed.
<li>
in version 0.8, if the parser detects an error in file
<code>HTML.trans</code>, the transformation process is stopped. Now, the
parser skips the invalid transformation.
<li>
error messages are displayed at the bottom of the window.
</ul>
<li>
Color palette
<ul>
<li>
The palette highlights the foreground and background colors of the element
selected when the palette is opened. The highlight allows users to choose the
same colors for different elements.
<li>
It is also possible now to remove a color attribute from an element just using
the "standard color" button in the palette.
</ul>
<li>
Forms
<ul>
<li>
forms can now be sent using GET and POST methods to protected/unprotected URLs
<li>
creation of form components has been improved
<li>
you can activate buttons and menu options by double-clicking them.
</ul>
<li>
HTML 3.2
<ul>
<li>
the latest extensions of HTML 3.2. have been added: tag BASEFONT and
attributes width and height for tags TH and TD.
<li>
It is now possible to add comments in HTML documents (use command
Structure/Comment in the Structure view)
</ul>
<li>
User Interface
<ul>
<li>
When the current selection is within a PRE element, some menu entries are
disabled: Image in Types menu, and Big, Small, Sub, Sup, and Font in Character
Element menu.
<li>
Interpretation of "~" and "file:" in "Open" and "Save As" dialogue boxes
<li>
In previous versions, I B and TT buttons were never updated when selection
changed. Now they are displayed according to the current selection.
<li>
Continuous scroll: the document scrolls as you move the slider
<li>
Distinction between "Cancel" and "Done" buttons in dialogue boxes.
<li>
When opening the Structure view, the document is displayed with the selected
part visible in that view.
</ul>
<li>
Environment variables are initialized from the Registry (file
<code>thot.ini</code>)
<li>
Integration of libwww5.0a, giving among other things: HTTP/1.1 and keep-alive
connections.
<li>
Reload button and command (File/Reload Document).
<li>
Spell checker is now available for English and French, but both dictionaries
are far from complete.
</ul>

<h2>Bug fixes</h2>
<ul>
<li>
Closing an Amaya window with a window manager command caused Amaya to crash.
Now only the concerned window is closed.
<li>
The HTML parser inserted a space at the beginning of a new line generated by a
&lt;BR> tag followed by new line in the source file.
<li>
Call "Change link" from Links menu and click in the document itself. The
dialog box for entering the URL of the target was empty in previous versions.
Now it contains the current value of attribute HREF.
<li>
Select some characters, call "Create link" from Link menu and click in the
document itself. Do not enter anything in the dialogue box for the URL and
press the Cancel button in this dialogue box. Later, call the Change link
command for entering an actual URL for that anchor. Nothing happened in
previous versions. Now you can change the URL.
<li>
Some elements were lost during structure transformation, this is now fixed.
<li>
Structure transformation was impossible if the selection contains comments or
invalid elements. Now transformations are possible (invalid tags are removed
in the new structure).
<li>
In previous versions, if the input focus is in one window and you press the H1
button (or any other button of that kind) in another window (with a different
document in it) it changes the first window. Now, the button does nothing.
<li>
Colors management is completely re-casted and we hope to solve color problems
in previous versions.
<li>
An emphasized string (or strong or...) can now span several lines in a
Preformatted.
<li>
When the same Web image is shared by two loaded documents, just one local copy
was created by Amaya and this copy was lost when the first document was
closed. This choice causes troubles when user tried to publish the second
document. Now Amaya creates two copies, one for each document.
<li>
Copy and paste on images didn't work fine in previous release.
<li>
Sometimes, local copies of remote documents were not created in the right
place. Now it works.
<li>
When user closed a document view with the Window Manager, the whole
application exited. Now only the document view is closed.
<li>
It is now possible to save a document if it is modified and close it.
<li>
In the previous version, Amaya did not detect the cancel of the network save
of an object to a protected URL space.
<li>
Inserting an image from a local directory did not react well to errors. This
has been corrected.
<li>
Call "Create Link" when an target anchor is selected or "Create Target" when a
link anchor is selected, Amaya refused to add the href or name attribute. Now
it works.
<li>
Call "Change Link" anywhere asked to select the destination. Now this function
works only within an link anchor.
<li>
After loading a lot of CSS files Amaya cannot load images because file
descriptors are not freed. Now it is correct.
<li>
The command "Save As" doesn't work or crashes. Now it is correct.
<li>
Bug in area-mapping (circle) fixed.
<li>
Support of the starting option -display
<li>
If a user gave a wrong password, Amaya did not ask the user for the new
password. It kept using the wrong one. Fixed.
<li>
When typing in the WYSIWYG window, clicking e.g. the "Italics" button enters
italics mode. After typing a few italic chars one wants to change back to
normal mode. Clicking the "Italics" button once again achieves this. But you
can't go on typing in normal mode, because this second click also selects the
italic text to become the active (highlighted) region. Simply typing ahead
overwrites the whole (italic) region. This bug is fixed.
<li>
The implicit break following the &lt;HR>failed to appear when a
&lt;FONT><font> tag follows &lt;BR>. The text within the FONT construct
appeared to the right ofthe horizontal rule. This bug is fixed</font>
<li>
<font>When typing in the WYSIWYG window, clicking e.g. the "Italics" button
enters italics mode. After typing a few italic chars one wants to change back
to normal mode. Clicking the "Italics" button once again achieves this. But
you can't go on typing in normal mode, because this second click also selects
the italic text to become the active (highlighted) region. Simply typing ahead
overwrites the whole (italic) region. This bug is fixed.</font>
<li>
<font>Printing with "US" paper size did not work. Bug fixed.</font>
<li>
<font>When changing attribut "align" for an element DIV containing paragraphs,
the paragraphs were not redisplayed with the alignment defined by the
attribute but they moved in a weird way in the Structure view. This bug is
fixed.</font>
<li>
Select a DT and change its style: the DT element in the Structure view gets
confused. Bug fixed.
<li>
Selection was moved to its original position at the ned of command Edit/Find.
It now stays at its current position.
</ul>
<hr>
<address>
<a href="mailto:vatton@w3.org">Ir&egrave;ne Vatton</a><br>
$Date: 1997/07/10</address>
</body>
</html>
