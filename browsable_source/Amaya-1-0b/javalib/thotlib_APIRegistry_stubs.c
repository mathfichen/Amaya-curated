/*
 * DO NOT EDIT
 * Generated by the following command from /users/veillard/opera/javalib directory
 * ../LINUX-ELF/bin/javastub -T JavaTypes.def -M thotlib_APIRegistry -J ../classes/thotlib/APIRegistry.java ../thotlib/include/registry.h 
 */
/*
 * Kaffe stubs generated for class thotlib_APIRegistry from includes
 * The user need to write JavaTypes.h which gives the
 * signatures of Java2C and C2Java conversion handlers
 * As well as the Class LOCK/UNLOCK macros
 */

#include <native.h>
#include "JavaTypes.h"
#include "thotlib_APIRegistry.h"
#include "thotlib_APIRegistry_stubs.h"

#ifndef thotlib_APIRegistry_LOCK
#define thotlib_APIRegistry_LOCK() fprintf(stderr,"thotlib_APIRegistry_LOCK undefined");
#endif /* thotlib_APIRegistry_LOCK */
#ifndef thotlib_APIRegistry_UNLOCK
#define thotlib_APIRegistry_UNLOCK() fprintf(stderr,"thotlib_APIRegistry_UNLOCK undefined");
#endif /* thotlib_APIRegistry_UNLOCK */

/*
 * Java to C function TtaInitializeAppRegistry stub.
 */
void
thotlib_APIRegistry_TtaInitializeAppRegistry(struct Hthotlib_APIRegistry* none, struct Hjava_lang_String* jappArgv0)
{
	char appArgv0[1024];
	char *appArgv0_ptr = &appArgv0[0];

	if (jappArgv0 != NULL)
	  javaString2CString(jappArgv0, appArgv0_ptr, sizeof(appArgv0));
	else
	  appArgv0_ptr = NULL;

	thotlib_APIRegistry_LOCK();

	TtaInitializeAppRegistry((char *) appArgv0_ptr);

	thotlib_APIRegistry_UNLOCK();

}

/*
 * Java to C function TtaGetEnvString stub.
 */
struct Hjava_lang_String*
thotlib_APIRegistry_TtaGetEnvString(struct Hthotlib_APIRegistry* none, struct Hjava_lang_String* jname)
{
	char *res;
	char name[1024];
	char *name_ptr = &name[0];

	if (jname != NULL)
	  javaString2CString(jname, name_ptr, sizeof(name));
	else
	  name_ptr = NULL;

	thotlib_APIRegistry_LOCK();

	res = TtaGetEnvString((char *) name_ptr);

	thotlib_APIRegistry_UNLOCK();


	if (res == NULL)
		return(NULL);
	else;
		return(makeJavaString(res, strlen(res)));
}

/*
 * Java to C function TtaSetEnvString stub.
 */
void
thotlib_APIRegistry_TtaSetEnvString(struct Hthotlib_APIRegistry* none, struct Hjava_lang_String* jname, struct Hjava_lang_String* jvalue, jint overwrite)
{
	char name[1024];
	char *name_ptr = &name[0];
	char value[1024];
	char *value_ptr = &value[0];

	if (jname != NULL)
	  javaString2CString(jname, name_ptr, sizeof(name));
	else
	  name_ptr = NULL;
	if (jvalue != NULL)
	  javaString2CString(jvalue, value_ptr, sizeof(value));
	else
	  value_ptr = NULL;

	thotlib_APIRegistry_LOCK();

	TtaSetEnvString((char *) name_ptr, (char *) value_ptr, (int ) overwrite);

	thotlib_APIRegistry_UNLOCK();

}

/*
 * Java to C function TtaSaveAppRegistry stub.
 */
void
thotlib_APIRegistry_TtaSaveAppRegistry(struct Hthotlib_APIRegistry* none)
{


	thotlib_APIRegistry_LOCK();

	TtaSaveAppRegistry();

	thotlib_APIRegistry_UNLOCK();

}

/*
 * Function to register all thotlib_APIRegistry stubs.
 */
void register_thotlib_APIRegistry_stubs(void)
{
	addNativeMethod("thotlib_APIRegistry_TtaInitializeAppRegistry", thotlib_APIRegistry_TtaInitializeAppRegistry);
	addNativeMethod("thotlib_APIRegistry_TtaGetEnvString", thotlib_APIRegistry_TtaGetEnvString);
	addNativeMethod("thotlib_APIRegistry_TtaSetEnvString", thotlib_APIRegistry_TtaSetEnvString);
	addNativeMethod("thotlib_APIRegistry_TtaSaveAppRegistry", thotlib_APIRegistry_TtaSaveAppRegistry);
}

