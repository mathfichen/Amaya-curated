#
# Makefile for javastub
# Automatically generated from tools/javastub/Makefile.in
# Daniel Veillard, 1997
#
@VPATHOPT@= @srcdir@
THOTDIR = @top_srcdir@

include ../../Options

LIBS	= @LIBS@ @EXTRA_LIBS@

prefix = @prefix@
exec_prefix = @exec_prefix@
bindir = @bindir@


all javastub : ../../bin ../../bin/javastub

../../bin:
	@($(MKDIR) ../../bin)

../../bin/javastub : javastub.o
	$(LD) $(LDFLAGS) -o $@ javastub.o

javastub.o: @srcdir@/javastub.c
	$(CC) $(CFLAGS) -I../.. -c @srcdir@/javastub.c

clean :
	$(RM) -f javastub *.o thotlib_API*

install : all

uninstall :

test: all
	../../bin/javastub -T @srcdir@/JavaTypes.def -M thotlib_APIContent \
	           @top_srcdir@/thotlib/include/content.h 
	../../bin/javastub -T @srcdir@/JavaTypes.def -M thotlib_APITree \
	           @top_srcdir@/thotlib/include/tree.h 
#	../../bin/javastub -T @srcdir@/JavaTypes.def -M thotlib_APIInterface \
#                  @top_srcdir@/thotlib/include/interface.h 

include .depends

../mkdep/mkdep : 
	@(cd ../../tools/mkdep ; $(MAKE) CC="$(CC)" CFLAGS="$(CFLAGS)")

.depends depend : ../mkdep/mkdep
	../mkdep/mkdep -relative -vpath $(VPATH) $(INCLUDES) $(VPATH)/*.c  > .depends

proto :

