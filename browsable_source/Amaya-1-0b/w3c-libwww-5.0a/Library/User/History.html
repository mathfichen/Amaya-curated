<HTML>
<HEAD>
  <!-- Changed by: Henrik Frystyk Nielsen, 23-May-1996 -->
  <TITLE>Change History for W3C Reference Library</TITLE>
</HEAD>
<BODY BGCOLOR="#ffffff">
<P>
<A HREF="../../"><IMG ALT="W3C" SRC="../../Icons/WWW/w3c_48x48" WIDTH="48"
    HEIGHT="48" BORDER="0"></A>
<A HREF="../"><IMG ALT="libwww" SRC="../../Icons/WWW/Lib48x" WIDTH="48" HEIGHT="48"
    BORDER="0"></A>
<H1>
  Change History of libwww
</H1>
<P>
This is a list of changes to the <A HREF="../">W3C Reference Library</A>
in reverse chronological order.
<H2>
  <A NAME="Release50">Release 5.0 September 10 1996</A>
</H2>
<P>
This release was originally called 4.1 but because we now have a complete
<A HREF="../../Protocols/">HTTP/1.1</A> client side implemenation including
a <A HREF="../src/WWWCache/html">persistent cache manager</A> and full support
for uploading documents, we decided to call it <B>version 5.0</B> instead.
<P>
The focus for version 5.0 of the <A HREF="../">W3C Reference Library</A>
is to provide a set of higher level, application specific APIs for accessing
the Web. These APIs - called <A HREF="../src/HTProfil.html">profiles</A>
- will help the application, a Web client for example, to more easily use
the full potential of the application independent
<A HREF="../src/WWWCore.html">Library core</A>. Also, the Library contains
a significantly better interface for easy access to the Web through a
<A HREF="../src/HTAccess.html">large set of functions</A> specialized to
perform certain Web operations like <CODE>PUT</CODE>, <CODE>POST</CODE>,
<CODE>DELETE</CODE>, <CODE>GET</CODE> and <CODE>HEAD</CODE>.
<P>
This release contains a <A HREF="../../Robot/">TCL add-on to the Robot
</A>example application and a <A HREF="../Test/User/">Deja GNU Test suite</A>
for the Library. Also, it support <A HREF="../../Protocols/">HTTP/1.1</A>
including persistent connections, two-way <CODE>PUT</CODE>, and the
<CODE>host</CODE> header. There is also a sample <A HREF="../src/HTPEP.c">PEP
implementation</A>, that although incomplete can give an idea of where we're
headed using PEP.
<H3>
  Bug Fixes
</H3>
<UL>
  <LI>
    Changed <CODE><A HREF="../src/HTInet.html">HTGetTmpName</A></CODE> not to
    use tempnam() anymore as it caused problems.
  <LI>
    Added argument to
    <CODE><A HREF="../src/HTWWWStr.html">HTParseTime</A></CODE> so that we can
    decide whether we want to expand relative times or not.
  <LI>
    The request pointer passed to a <A HREF="../src/HTAlert.html">progress
    notification</A> may be <CODE>NULL</CODE> -be aware!
</UL>
<H2>
  Release 4.1b5 August 24 1996
</H2>
<P>
Release 4.1b5 is mainly a bug fix release after intensive testing against
the <A HREF="http://wilson.ai.mit.edu">Common Lisp Server </A>which also
is a HTTP/1.1 application. However, it also has a few new features worth
noting.
<H3>
  New Features
</H3>
<UL>
  <LI>
    Added support for the <I>entity-tag </I>validator headers:
    <CODE>If-Match</CODE> and <CODE>If-None-Match</CODE> and also for the
    <I>date</I> validators <CODE>If-Modified-Since</CODE> and
    <CODE>If-Unmodified-Since</CODE>. We only use either etags or date stamps
    and the <I>entity-tag</I> validators have precedence over the <I>date</I>
    validators.
  <LI>
    Added <A HREF="../acinclude.m4">acinclude.m4</A> in the WWW directory. The
    file is used by automake
  <LI>
    Changed the <A HREF="../../INSTALL.html">configure script</A> to handle the
    location of the icons distributed as part of the libwww distribution package.
  <LI>
    Added full support for <CODE>Cache-Control</CODE> header and
    <CODE>Connection</CODE> header. Both headers can have an association list
    of name value pairs as directives.
  <LI>
    Moved the memory cache handler (history handler) from the
    <A HREF="../../LineMode/">line mode browser</A> to be a <I>BEFORE</I>
    <A HREF="../src/HTFilter.html">filter</A> which can be used by other applications
    as well. It is now included as part of the
    <A HREF="../src/HTProfil.html">client profile</A>.
  <LI>
    Changed the <A HREF="../src/HTReq.html">expiration handling API</A> to not
    include any notification messages. Any messages to be transmitted to the
    user is now handled by the <A HREF="../src/HTAlert.html">Alert manager</A>.
  <LI>
    Added <A HREF="../src/WWWCacge.html">persistent cache manager</A> to the
    <A HREF="../src/HTProfil.html">client profile</A>.
  <LI>
    Added <I>validation</I> command to the line mode browser
  <LI>
    Changed the cache validation management in the
    <A HREF="../src/Req.html">Request object</A>. The validation scheme is now
    compatible with HTTP/1.1 caching including handling of the history list.
    We have changed the validation enumerations from
    <UL>
      <LI>
	<CODE>HT_ANY_VERSION</CODE>, <CODE>HT_MEM_REFRESH</CODE>,
	<CODE>HT_CACHE_REFRESH</CODE>, <CODE>HT_FORCE_RELOAD</CODE>
      <LI>
	<CODE>HT_CACHE_OK</CODE>, <CODE>HT_CACHE_FLUSH_MEM</CODE>,
	<CODE>HT_CACHE_VALIDATE</CODE>, <CODE>HT_CACHE_FLUSH</CODE>.
    </UL>
</UL>
<H3>
  Bug Fixes
</H3>
<UL>
  <LI>
    Fixed problem when getting a <CODE>connection</CODE> header with the
    <CODE>close</CODE> directive. The problem caused libwww to loop as it recursively
    tried to free the input stream pipe
  <LI>
    Fixed bug in access authentication which could cause libwww to loop if the
    top level of the site was protected.
  <LI>
    Fixed bug that caused a core dump if receiving a message body without any
    <CODE>content-type</CODE>. Now the data is passed to the
    <A HREF="../src/HTGuess.html">guessing stream</A> which hopefully can handle
    it.
</UL>
<H2>
  Release 4.1b4 August 20 1996
</H2>
<P>
HTTP version 1.1 allows for effective use of persistent connections. However,
in orderto make this work, a client application must be capable of recovering
from a closed connection between sent requests. The beta 4 version of libwww
supports automatic connection recovery and provides the functionality for
performing pipelining of requests. That is, there can be multiple outstanding
requests on the same connection In order to do this, the release contains
&nbsp;modifications to the <A HREF="../src/HTChannl.html">Channel Object</A>,
the <A HREF="../src/HTHost.html">Host object</A> and the
<A HREF="../src/HTNet.html">Net object</A>.
<H3>
  New Features
</H3>
<UL>
  <LI>
    Added support for case-insensitive searching for proxies via environment
    variables
  <LI>
    Added support for proxy authentication
  <LI>
    Changed handling of proxies so that they are not included in the URL but
    is now instead part of the request object. This allows for better handling
    of proxies and also for more freely use of the proxy filter as it doesn't
    affect the other filters anymore.
  <LI>
    Added support for TRACE HTTP method in the
    <A HREF="../src/HTAccess.html">HTAccess module</A>.
  <LI>
    Updated News DLL and incorporated News patches from <I>Maciej Puzio</I>
  <LI>
    <CODE>HT_PERSISTENT</CODE> is now obsolete and should be replaced by
    <CODE>HT_PENDING</CODE>
  <LI>
    The <CODE>HTChannelMode</CODE> enumeration describing the flow of a channel
    has been replaced by <CODE>HTTransportMode</CODE> as it is now a part of
    the transport object and not the channel object
  <LI>
    <CODE>HTNet_idle()</CODE> has been removed and replaced by
    <CODE>HTNet_isIdle()</CODE>. The function returns YES if there are no pending
    requests in libwww at all.
  <LI>
    Add support for checking public information about a host and use this information
    when issuing a PUT, for example. Also add check for host element in
    <A HREF="../src/HTAccess.html">HTAccess</A> when doing PUT. We may have public
    information available
  <LI>
    Changed the return codes defined in <A HREF="../src/HTUtils.html">HTUtils
    </A>to reflect the values of the HTTP spec.
  <LI>
    Added support for <CODE>305 Use Proxy</CODE> redirections
  <LI>
    Updated <A HREF="../src/HTDir.html">HTDir module</A> to better use the fact
    that we know that an entry is a directory or not. Now it appends a '/' to
    the URL if it is a directory. That way we often avoid a redirection.
  <LI>
    Removed WWWRules as interface and merged it with the
    <A HREF="../src/WWWApp.html">WWWApp interface</A>. The reason was that the
    two were highly alike and depended on each other
</UL>
<H3>
  Bug Fixes
</H3>
<UL>
  <LI>
    Fixed problem with uploading directory listing using chunked encoding
  <LI>
    Fixed autoconf to handle WAIS and updated the HTWAIS.c module
  <LI>
    Fixed race problem in PUT on alphas
  <LI>
    Tested reentrant version of libwww (uses <CODE>_REENTRANT</CODE> define)
  <LI>
    Fixed problem in file name conversion from URL to local format on Windows
</UL>
<H2>
  Release 4.1b3 July 20 1996
</H2>
<P>
The <A HREF="../src/HTFile.html">file access module</A> now does content
negotiation by default. This means that all local file access (including
from client applications) <B>do</B> content negotiation when accessing local
files. Content negotiation can be turned off by setting a flag in the
<A HREF="../src/HTReq.html">request object</A>.
<P>
A main difference in beta 3 is that we now have a set of
"<A HREF="../src/HTProfil.html">application profiles</A>" that helps the
application to initialize <A HREF="../src/WWWCore.html">libwww core</A> to
work as a typical client, robot or other type of application. This should
replace the huge initialization procedure seen in previous versions. This
is in fact a result of the core being so flexible - it is inly a framework
for accessing the Web. The application must initialize all the functionality
at run-time. You can see the various profile functions in the
<A HREF="../src/WWWInit.html">WWWInit interface</A>.
<P>
The second main difference is that the <I>BEFORE</I> and <I>AFTER</I> filters
have been more explicit than before. The <CODE>HTLoadStart</CODE> and
<CODE>HTLoadTerminate</CODE> functions actually covered many typical
<I>BEFORE</I> and <I>AFTER</I> filter functions like looking for proxies,
searching the cache, looking for rule file matching, and logging etc.
<P>
However, two functions were not covered by this: <I>redirection</I> and
<I>authentication</I>. That is why the application in previous version had
to supply this functionality. However, in beta 3 we have split up the
<CODE>HTLoadStart</CODE> and <CODE>HTLoadTerminte</CODE> functions into a
<A HREF="../src/HTFilter.html">set of filters</A> which each perform only
a single function, for example looking for proxies. The split has two functions:
first it shows how you can use filtes to add new functionality to the Library
and second it can be used by more types of applications. A result of the
new filters is that we also have default redirection and authentication filters
so you don't have to provide this anymore.
<P>
The <A HREF="../src/HTFilter.html">filters</A> are set up as part of the
<A HREF="../src/HTProfil.html">profiles</A> so you will normally not have
to register them individually.
<H3>
  New features and Changes
</H3>
<UL>
  <LI>
    Introduced <A HREF="../src/HTUser.html">HTUserprofile</A> class to handle
    host and user specific information
  <LI>
    Added <A HREF="../src/HTTChunk.html">Chunked decoding and encoding module</A>
  <LI>
    A host name is not expanded to a <B>fqdn</B> name as it is not reliable enough.
    Now we just keep it as is, that is we don't expand <I>www</I> to
    <I>www.w3.org</I>, for example.
  <LI>
    Updated <A HREF="../src/HTML.html">HTML parser</A> to support
    <CODE>BASE</CODE> tag and <CODE>LINK</CODE> tag
  <LI>
    Added new access methods to the <A HREF="../src/HTAccess.html">HTAccess
    module</A>. It is now part of the <A HREF="../src/WWWApp.html">WWWApp
    interface</A>
  <LI>
    Updated the <A HREF="../src/HTIcons.html">Icon module</A> and added icons
    to the distribution file
  <LI>
    Added a <A HREF="../src/HTSChunk.html">Stream to Chunk converter </A>for
    easier conversion of streams into dynamic memory buffers
  <LI>
    Introduced <A HREF="../src/HTLib.html">HTLib</A> as a new core module. It
    contains generic information about the core which used to be in the HTAccess
    module.
  <LI>
    Added support for <A HREF="../../Protocols/">HTTP/1.1</A>. Most of the HTTP/1.1
    specification is now in place, we still need some headers and some features
    but this version can be considered to be compliant.
  <LI>
    Added suport for proxy authentication as specified by HTTP/1.1
  <LI>
    Added support for case-insensitive searching for proxies via environment
    variables
  <LI>
    Changed handling of proxies so that they are not included in the URL but
    is now instead part of the request object. This allows for better handling
    of proxies and also for more freely use of the proxy filter as it doesn't
    affect the other filters anymore.
</UL>
<H3>
  Bug Fixes
</H3>
<UL>
  <LI>
    Fixed problem with uploading directory listing using chunked encoding
  <LI>
    Fixed problem in the rule file parser. It didn't parse the last line of the
    config file
  <LI>
    Fixed autoconf to handle WAIS and updated the
    <A HREF="../src/HTWAIS.html">HTWAIS.c </A>module
  <LI>
    Fixed race problem in PUT on alphas which caused the PUT operation to hang
    under certain circumstances
</UL>
<H2>
  Release 4.1b1 May 20 1996
</H2>
<H3>
  New Features
</H3>
<UL>
  <LI>
    Introduced GNU autoconf configure script for compiling on Unix platforms
    instead of the old BUILD script. This should make it a lot easier to compile
    on Unix as we get all the advantages of GNU autoconf.
  <LI>
    Introduction of the <A HREF="../src/HTUser.html">HTUserprofile Class </A>which
    keeps track of a "user" known to the Library
  <LI>
    New access authentication interface allowing for dynamic registration of
    new access authentication mechanisms. It provides an easy API for hooking
    in new schemes.
  <LI>
    Improved handling of trace messages which allows for easy redirection of
    trace messages
  <LI>
    Support for registration of content coders/decoders and content transfer
    encoders/decoders. This is done the same way as for media types by registering
    a set of streams that can handle the various encodings.
  <LI>
    Support for <I>chunked</I> decoding
  <LI>
    Introduction of the <A HREF="../src/HTHost.html">HTHost Class</A> which keeps
    track of information about remote hosts
  <LI>
    The <A HREF="../src/HTDNS.html">DNS Class</A> has been simplified to handle
    DNS queries only. All additional information about the remote host is defined
    by the HThost Class.
  <LI>
    We have a new <A HREF="../src/HTEvent.html">HTEvent module</A> which allows
    for dynamic registration of an event manager. This will make it much easier
    to use external event managers together with libwww. If you wish to continue
    to use the event loop from HTEvntrg, you must register it explicitly with
    <A HREF="../src/HTEvntrg.html">HTEventrgInit</A>. This call is demonstrated
    in <A HREF="../../LineMode/src/HTBrowse.c">HTBrowse</A>.
  <LI>
    The <A HREF="../src/HTStream.html">HTStream module</A> has been created
    containing a set of basiv streams such as an error stream etc.
  <LI>
    Introduction of the <A HREF="../src/HTTrans.html">HTTransport Class</A>.
    This allows for dynamic registration of transport protocols such as for example
    the W3Mux protocol, TCP access, local file access etc.
  <LI>
    All MIME parsing is now done with registered parsers. The
    <A HREF="../src/HTMIME.html">HTMIME</A> module only unwraps the &nbsp;MIME
    header fields and calls the best parser. The header parsing origonally done
    in HTMIME can be found in <A HREF="../src/HTInit.c">HTInit.c</A> and is
    registered with <A HREF="../src/HTInit.html">HTMIMEInit</A>. This call is
    demonstrated in <A HREF="../../LineMode/src/HTBrowse.c">HTBrowse</A>.
</UL>
<H2>
  <A NAME="4.0D">Release 4.0D February 12 1996</A>
</H2>
<P>
This upgrade release fixes some bugs and it adds functionality for posting
data from memory. This is the full list of changes:
<UL>
  <LI>
    Optimized HTTP request header by taken away an "Accept:" line pr accepted
    content type and instead use the commna notation.
  <LI>
    Introduced <A HREF="../src/HTMemory.html">HTMemory</A> as dynamic memory
    handler. This module is a part of the <A HREF="../src/WWWUtil.html">WWWUtils
    interface</A> and it handles better management of dynamic memory. You can
    find a full description in the <A HREF="Using/Memory.html">User's Guide.</A>
  <LI>
    We now have an updated <A HREF="Extrnals.html">list of <EM>all</EM> public
    functions</A> exported from the Library.
  <LI>
    We also present an updated list of <EM>all</EM> public interfaces available
    in the Library. You can find it in the <A HREF="Guide/Interfaces.html">Library
    Internals</A>.
  <LI>
    PUT and POST from memory is implemented. You can now post data from memory
    using the POSTWeb model as for posting remote data objects. The Interface
    is described in <A HREF="../src/HTAccess.html">HTAccess module</A>. There
    is a very small dummy test implemented in the Line Mode browser. You can
    activate it if you type<EM>edit</EM> from the command line.
  <LI>
    The Mini server now runs (although crude) as a proxy. It is capable of serving
    data as a HTTP/HTTP proxy. It is based on the internal Library event loop
    and is therefore highly portable. It is not intended to be a full featured
    server but a test implementation which shows how to use the Library in server
    applications.
  <LI>
    Bug fixed that caused the following problem: If there hasn't been made a
    connection between the net-&gt;target and the request-&gt;output_stream then
    the latter is not freed if the request is interrupted.
  <LI>
    The <EM>referer URL</EM> header can now contain a unlimited length URL
  <LI>
    A resolver callback function has been introduced in the
    <A HREF="../src/HTTee.html">HTTee stream</A>. This allows the caller to assign
    a callback function to resolve conflicts between the return codes of the
    two streams.
  <LI>
    The request object as been added as a calling parameter to the
    <A HREF="../src/HTFWrite.html">HTFWrite stream creation method</A>. This
    allows errors from writing to a file to propagate back to the request object.
  <LI>
    The three streams <CODE>HTSaveLocally</CODE>, <CODE>HTSaveAndExecute</CODE>
    and <CODE>HTSaveAndCallBack</CODE> have been optimized and they now all use
    the <A HREF="../src/HTFWrite.html">HTFWrite stream creation method</A>
  <LI>
    We have a new module called <A HREF="../src/HTTPGen.html">HTTPGen</A>. It
    generates general HTTP headers. These headers were a part of the MIME header
    generator, but by isolating them, we can use the MIME header as a generic
    MIME entity header generator.
  <LI>
    Created <A HREF="../src/HTFWrite.html">HTErrorStream</A> which always returns
    <CODE>HT_ERROR</CODE>. It replaces the
    <A HREF="../src/HTFWrite.html">HTBlackHole</A> has been replace with
    HTErrorStream in many places in order to speed up performance
  <LI>
    Made HTTP response stream (which parses the response line only) into a converter
    so that we can forward the output exactly as received from the remote HTTP
    server. This is important for proxy applications and other applications that
    want to see the output untouched.
  <LI>
    The HTChunk module has been made more solid and the amount of memory allocations
    has been limited.
  <LI>
    Memory cleanup fixed in content length counter stream and FTP module
  <LI>
    Introducing HT_CLOSED and HT_PAUSE for handling streams. This was required,
    especially after HTTP supports persistent connections where a document is
    not delimited by a closed connection.
</UL>
<H2>
  Release 4.0C January 23 1996
</H2>
<UL>
  <LI>
    Automatic redirection and Access authentication has been take n out of the
    HTTP module. Instead the new mechanism with request callback functions are
    used so that the application can register handlers to handle these situations.
    The reason for this change is that not all applications are interested in
    having this functionality performed automatically.
  <LI>
    Authentication handler and redirection handler added to both the Line Mode
    Browser and the Command Line Tool
  <LI>
    Added three possible return codes on which a request callback function can
    be called:
    <UL>
      <LI>
	HT_PERM_REDIRECT for permanently moved objects
      <LI>
	HT_TEMP_REDIRECT for temporarily moved objects
      <LI>
	HT_NO_ACCESS for insufficient credentials
    </UL>
  <LI>
    PUT and POST do now work reliably in the Line Mode Browser and the Command
    Line Tool. Both can PUT or POST a document <B>from</B> either a remote HTTP
    server <EM>or</EM> the local file system <B>to</B> a remote HTTP server.
  <LI>
    An important bug-fix in the internal event manager that prevented a socket
    to be registered for multiple events at the same time.
  <LI>
    Cleanup of the POSTWeb management in the file module and the HTTP module
  <LI>
    In addition to progress notification on READ we now support progress notification
    when sending a data object
  <LI>
    Spelling mistake fixed. <EM>preemtive</EM> is changed to <EM>preemptive</EM>
  <LI>
    The W3C Mini Robot has now the ability to stop at a certain depth while
    traversing the Web.
</UL>
<H2>
  Release 4.0A December 11 1995
</H2>
<UL>
  <LI>
    Created the include HTTPUtil.html - a C file may follow
  <LI>
    Changed HTDoAccept so that it automatically inserts the new socket descriptor
    in the Net object.
  <LI>
    HTLoad_terminate moved from HTReqMan to HTHome. It is not automatically set
    up in HTLibInit anymore
  <LI>
    Made HTAnchor and HTLink opaque data objects
  <LI>
    changed HTLink_newResult to HTLink_result
  <LI>
    changed HTLink_newMethod to HTLink_method
  <LI>
    Changed HyperDoc to simply a void pointer. This makes it more generic and
    the application does not have to actually treat it as a document anyway
  <LI>
    Introduced the WWW_DEBUG internal format that can be used to redirect debug
    information, for example from a HTTP redirection message etc.
  <LI>
    Request object added to HText_new methods
  <LI>
    changed HTExtParse to HTXParse throughout - H&amp;kon
  <LI>
    HTXParse now null-terminates buffer - H&amp;kon
  <LI>
    return codes from HTTee changed - H&amp;kon
  <LI>
    content-length initialized to -1 - H&amp;kon
  <LI>
    Fixed bug for handling HEAD in HTTP and MIME streams
  <LI>
    Handles of persistent connection is now a semaphore and not a bool
  <LI>
    Changes the event loop so that a timeout handler can return HT_OK or HT_ERROR.
    If the code is not HT_OK then stop the event loop
  <LI>
    Changed request of header enumeration:
    <UL>
      <LI>
	General headers have the prefic HT_G_
      <LI>
	Request headers have the prefic HT_C_
      <LI>
	Server headers have the prefic HT_S_
      <LI>
	Entity headers have the prefic HT_E_
    </UL>
  <LI>
    Separated file suffix initialization into HTBInit
  <LI>
    Changed the names in HTChunk to be consistent with the Module_method scheme
  <LI>
    Introduced HTBInit.c for setup of file suffixes
</UL>
<H2>
  <A NAME="Release-4.0">Release 4.0 December 1 1995</A>
</H2>
<H2>
  Alpha Release 7, November 28 1995
</H2>
<UL>
  <LI>
    Added a backlog parameter to the <A HREF="../src/HTTCP.html">HTDoListen()
    function</A>
  <LI>
    Added a parameter for handling <CODE>server modules</CODE> to the
    <A HREF="../src/HTProt.html">Protocol</A> module. An access scheme (for example
    HTTP, can now be registered together with a <EM>client module</EM> and a
    <EM>server modele</EM>
  <LI>
    Added <A HREF="../src/HTAccess.html">HTServDocument</A> to the
    <A HREF="../src/HTAccess.html">HTAccess module</A> in order to better support
    server applications.
  <LI>
    Made <A HREF="../src/WWWNews.html">WWWNews.html</A>,
    <A HREF="../src/WWWHTTP.html">WWWHTTP.html</A>,
    <A HREF="../src/WWWMIME.html">WWWMIME.html</A>, and
    <A HREF="../src/WWWFTP.html">WWWFTP.html</A> include files to be used by
    applications.
  <LI>
    Changed functions with the name <CODE>preemptive</CODE> to
    <CODE>preemptive</CODE> it was a spelling mistake
</UL>
<H2>
  Alpha Release 6, November 20 1995
</H2>
<UL>
  <LI>
    Removed remaining <CODE>ARGS</CODE> and <CODE>PARAMS</CODE> from the sources.
    All function declarations and definitions now follow the ANSI standard.
  <LI>
    Changed <A HREF="../src/HTAlert.html">HTAlert</A> to be a registration module
    instead of a module to be overriden by an application. Now you can register
    a <A HREF="../src/HTDialog.html">Dialog</A> module as a callback function
    which is a much more generic moduel. It also means that there are no more
    English text in the <A HREF="../src/WWWCore.html">Core</A> of the Library
    - it's all in a application module. The Library provides a default implementation
    in the new <A HREF="../src/HTDialog.html">HTDialog</A> module.
  <LI>
    Taken the WWW relevant stuff out of
    <A HREF="../src/HTString.html">HTString</A> and put it into the new module
    called <A HREF="../src/HTWWWStr.html">HTWWWStr</A>. The latter is a part
    of the core whereas the former is generic string utilities.
  <LI>
    Made the global variable <CODE>HTLibraryVersion</CODE> local to
    <A HREF="../src/HTAccess.html">HTAccess</A>. The are now only
    <CODE>WWW_TraceFlag</CODE> left as a global variable in the whole Library.
  <LI>
    There are now four main include files. They are called:
    <DL>
      <DT>
	<A HREF="../src/WWWUtil.html">WWWUtil.h</A>
      <DD>
	The WWW Utility module contains a lot of the functionality that makes it
	possible to make applications, that is container modules for data objects,
	basic string functionality etc. This module is the basis for all of the following
	modules and is used extensively.
      <DT>
	<A HREF="../src/WWWCore.html">WWWCore.h</A>
      <DD>
	The WWW Core module is a set of registration modules that glues an application
	together. It contains no real functionality in itself; it is for example
	not capable of loading a HTML document. It only provides a large set of hooks
	which can be used to add functionality to the Library and to give an application
	real life. We will here a lot more to the structure of the core, and much
	of this guide is actually describing how to add functionality to the core.
      <DT>
	<A HREF="../src/WWWLib.html">WWWLib.h</A>
      <DD>
	This include is the main include file for the Library. It basically consists
	of the WWWUtil.h and the WWWCore.h so that the application only needs to
	include this one instead of two.
      <DT>
	<A HREF="../src/WWWApp.html">WWWApp.h</A>
      <DD>
	This module contains a huge set of modules that can be hooked into the Core
	Library and make the application work. In contrast to the Core part, you
	can pick exactly the modules you want from the WWWApp.h in order to create
	your special application whether it is a server, a client, a proxy, a robot
	or any other Web application.
    </DL>
  <LI>
    <A HREF="../src/HTGuess.html">HTGuess stream</A> is now a converter just
    like any other converter, and it can be registered by the application if
    wanted
  <LI>
    <CODE>HTClientHost</CODE> (global var) is removed from the Library as it
    wasn't use there at all
  <LI>
    Introduced <A HREF="../src/HTHome.html">HTHome module</A> as part of the
    application specific part of the Library. It contains handy functions for
    the application.
  <LI>
    HTGetCurrentDirectoryURL() and HTHomeAnchor() are moved from HTAccess.c to
    the new module HTHome.c
  <LI>
    HTImProxy is taken out as it can be handled in the setup of the converters
  <LI>
    Created HTList_appendObject() in <A HREF="../src/HTList.html">HTList module</A>
    which adds an element to end of list
  <LI>
    Introduced pre request callback functions in HTNet and changed the interface.
    It's described in User's Guide. This means that an application can register
    any action to be executed either <EM>before</EM> and/or <EM>after</EM> a
    request is done. This is described in detail in the
    <A HREF="Using/Net.html">User's Guide.</A>
  <LI>
    <A HREF="../src/HTHome.html">HTHome module</A> contains default callback
    functions to be called before and after a request.
  <LI>
    Removed the HTInputSocket_get* functions from <A HREF="../src/HTSocket.html">
    HTSocket</A> as they are no more needed (they were non-reentrant and belonged
    to the old interface)
  <LI>
    Added the following HTLib_* functions to the
    <A HREF="../src/HTAccess.html">HTAccess module</A>:
    <UL>
      <LI>
	const char * HTLib_name (void)
      <LI>
	const char * HTLib_version (void)
      <LI>
	BOOL HTLib_secure (void)
      <LI>
	void HTLib_setSecure (BOOL mode)
    </UL>
  <LI>
    Library is now handling cleanup of anchors in HTLibTerminate() as it really
    is a part of the core.
  <LI>
    Default addresses are taken out of HTAccess and added to HTHome. They were
    mainly some default addresses for <CODE>WWW_HOME</CODE> etc.
  <LI>
    The Library is now not using env variables at all
  <LI>
    The flag <CODE>WWW_WIN_ASYNC</CODE> introduced to use the new async window
    interface. Add this define to your project if you want it
  <LI>
    HTsocketWin and HTwinMsg made internal to HTEvntrg.c. They can now be accessed
    through the methods
    <UL>
      <LI>
	HTEvent_setWinHandle
      <LI>
	HTEvent_winHandle
    </UL>
  <LI>
    Added the following formats to the default initialization:
    <PRE>
	www/unknown -&gt; HTGuess_new
	text/x-www-rules -&gt; HTRules
</PRE>
  <LI>
    Changed format <EM>image/x-tiff</EM> to <EM>image/tiff</EM> and
    <EM>image/x-png</EM> to <EM>image/png</EM>
  <LI>
    Finished the <A HREF="../src/HTNews.html">News module</A> using non-preemptive
    sockets. Final testing is still missing
  <LI>
    Changed HTRules so that it now is a stream. It also handles line wrapping
    and has a much more solid parsing mechanism. See description in
    <A HREF="Using/Rules.html">User's Guide</A> for more details.
</UL>
<H2>
  Alpha Release 5, November 8 1995
</H2>
<P>
The Library has now undergone a major restructuring in order to define the
APIs between the various parts and to make it more modular. The new architecture
is described in the <A HREF="Architecture/DesignModel.html">Architecture
document</A> and includes a new Net manager that handles a request queue,
a DNS manager that handles persistent connections and a well defined Request
manager where the HTRequest object is an opaque object.
<H3>
  Core Modules
</H3>
<UL>
  <LI>
    Generalized the <A HREF="../src/HTError.html">Error Manager</A> to work on
    lists instead of as directly on a request object. This makes it possible
    to use the error manager in all situations.
  <LI>
    Changed <EM>HTAppName</EM> and <EM>HTAppVersion</EM> to parameters to HTLibInit()
    instead of as global parameters.
  <LI>
    Introduced a new main include file called
    <A HREF="../src/WWWApp.html">WWWApp.h</A> which contains applications specific
    modules. None of these modules are actually required to compile and link
    the Library, but the application can use them if needed.
  <LI>
    None of the access modules (HTTP, FTP, NNTP, etc.) are set up by default
    anymore. This is now for the applications to do.
  <LI>
    Changed <EM>TRACE</EM> to <EM>WWWTRACE</EM> as it interferes with macro on
    NT
  <LI>
    The balanced binary tree in <A HREF="../src/HTBTree.html">HTBtree</A> is
    not used anymore. The functionality is now provided by the new
    <A HREF="../src/HTArray.html"> HTArray module</A> that is a dynamic array
    of pointers. It is much like the <A HREF="../src/HTChunk.html">HTChunk
    module</A> but for pointers instead of dynamic strings. The advantage is
    that the fast <EM>qsort</EM> algorithm can be used on the array.
  <LI>
    Moved the two functions <CODE>HTWWWTLocal()</CODE> and
    <CODE>HTLocalToWWW()</CODE> from the <A HREF="../src/HTFile.html">HTFile
    Module</A> to the <A HREF="../src/HTString.html">HTString module</A> for
    converting between local file names and URLs
  <LI>
    It is now possible to register a call back function together with a timeout
    that is used in the select call of the event loop. When the select() call
    times out, the call back function is called. The registration can either
    be so that the call back <EM>always</EM> is called when that the select call
    times out <EM>or</EM> only when Library sockets are in use.
  <LI>
    We have a port to PowerMac and 68K!!! This has been provided by Steven T.
    Roussey &lt;sroussey@eng.uci.edu&gt; and Brad Barber
    &lt;barber@well.com&gt;
  <LI>
    We have changed HTThread to <A HREF="../src/HTNet.c"> HTNet.c</A> as thread
    was too confusing. This module has been cleaned up and rewritten so that
    <A HREF="../src/HTNet.c">HTNet.c</A> now contains the Net manager. The Net
    manager controls the net access so that we only keeps a specified amount
    of sockets open simultaneously (called a request queue). It also partly controls
    the management of persistent connections together with the
    <A HREF="../src/HTDNS.html"> DNS Manager.</A>
  <LI>
    The <EM>HTRequest Object</EM> is now known to the
    <A HREF="../src/HTReq.html">Request Manager</A> only. It is accessible through
    a lot of methods just like the <A HREF="../src/HTAnchor.html">Anchor object</A>
    etc. The <A HREF="../src/HTAccess.html">HTAccess module</A> is now a user
    interface to the Request Manager but it doesn't have to be used - you can
    use the Request Manager directly but often it is easier to go through the
    Access Module.
  <LI>
    The Protocol object has been turned into an object internal to the
    <A HREF="../src/HTProt.html">Protocol manager</A>. This means that protocol
    information can be accessed via a set of methods provided by the manager.
  <LI>
    We have changed case sensitive search to insensitive search when finding
    an access methods (HTTP, FTP, telnet etc.) for a URL. This catches silly
    errors in URLs like <EM>HTTP://www.foo.com</EM>
  <LI>
    The static protocol declarations have been replaced with a set of parameters
    to the creation method of a protocol object in the
    <A HREF="../src/HTProt.html"> Protocol Manager</A> which is more handy.
  <LI>
    We added HTProtocol_delete() as method in the
    <A HREF="../src/HTProt.html">Protocol manager</A>. This means that it is
    now possible to <EM>unregister</EM> a protocol at runtime. If you are on
    a platform with dynamic linking (for example DLLs) then this can save a lot
    of space.
  <LI>
    Introduction of application call back function for memory cache. This is
    a part of separating the <A HREF="../src/HText.html">HText module</A> and
    also to make the memory cache manager more flexible. An example implementation
    can be found in the <A HREF="../LineMode/src/GridText.c">GridText module</A>
    in the <A HREF="../LineMode/">Line Mode Browser</A>.
  <LI>
    Full support for the <A HREF="../src/HTAnchor.html#links">HTLink object</A>
    that binds together two anchors. This is a requirement for keeping track
    of the <A HREF="Architecture/PostWeb.html">Post Web</A>.
  <LI>
    URL fragment identifiers were case insensitive - they are now case sensitive
  <LI>
    Added <CODE>result</CODE> field to the <A HREF="../src/HTAnchor.html#links">
    HTLink</A> so that the result of a posting operation is stored in the link
    object. This means that the application can see which post operations succeeded
    and which didn't. This can for example be used in a GUI client to show the
    relations between the source and destination anchor as "dim" links.
  <LI>
    Fixed bug in put mechanism that caused destinations to accumulate in the
    postweb. Now `old' destinations are still registered but not included in
    a new postweb - they can, however, be discarded all together, but often the
    information is nice to have. On a GUI client, it can be shown as 'dimmed'
    destinations.
  <LI>
    Removed remaining outputs directly to stdout using <EM>fprintf()</EM>. Now
    all goes through <A HREF="../src/HTAlert.html"> HTAlert module</A>. This
    was a problem in some of the protocol modules as well (especially in the
    Telnet module).
  <LI>
    The <CODE>CacheItems</CODE> structure is removed from anchor object and replaced
    by <CODE>(BOOL) CacheHit</CODE>. If <CODE>CacheHit=YES</CODE> then the format
    negotiation and suffix binding is not used in
    <A HREF="../src/HTFile.html">HTFile Module</A> but the object is loaded directly
    (from the local file cache) using non-blocking I/O
  <LI>
    Internal DNS/hostname cache optimized and made more flexible to support
    <B>persistent connections</B> for all protocols that support this, for example
    HTTP, FTP, and NNTP. The first version has support for HTTP only, but the
    other ones will follow shortly. and multiple connections to same address.
    You can now control the garbage collection of DNS entries based on time.
    The DNS object keeps also information about the remote server (class of request,
    for example HTTP or FTP and the type of server, for example HTTP/1.0, HTTP/0.0
    etc.). This means that it is possible to adjust a request to a remote server
    once the type is known. For example, the Library now distinguishes between
    HTTP servers version 0.9, 1.0, and 1.1. New classes and versions can be
    registered at run time just like protocol modules.
  <LI>
    <A HREF="../src/HTTCP.html">HTDoConnect</A> rewritten as a state machine
    which makes it a lot easier to understand and change. It is furthermore and
    important part of the persistent connection management.
  <LI>
    Removed <CODE>HTMaxRedirect</CODE> as a global variable. It is now private
    to <A HREF="../src/HTReq.html">Request manager</A> with two methods to access
    it
  <LI>
    Support for context swapping and call back function in the
    <A HREF="../src/HTReqMan.html">HTRequest object</A>. This allows the application
    to distinguish between multiple ongoing requests. See more information in
    the <A HREF="Using/Access.html">User's Guide</A>.
  <LI>
    Bug fix in <A HREF="../src/HTTCP.c">HTTCP.c</A> HTGetHostName thanks to "dave
    (d.) mielke" &lt;davem@bnr.ca&gt;
</UL>
<H3>
  Protocol Modules
</H3>
<UL>
  <LI>
    We have a first version of a new <A HREF="../src/HTNews.html">News module</A>
    which supports POST, persistent connections and a lot of more efficient NNTP
    commands.
  <LI>
    Re-implemented long directory listings for FILE and FTP access using streams.
    The HTML machinery is now separated into the new
    <A HREF="../src/HTDir.html">HTDir module</A>. It provides long directory
    listings for Unix, NT, and VMS.
  <LI>
    Support for <B>persistent connections</B> in HTTP requests. This has been
    enabled by the generic model in the DNS manager.
  <LI>
    Support for the methods <EM>DELETE</EM>, <EM>LINK</EM>, and <EM>UNLINK</EM>.
  <LI>
    Re-implemented <A HREF="../src/HTFTP.html">HTFTP</A> module using <B>persistent
    connections</B>, multiplexed (non-blocking) sockets and streams for input
    and output. In fact the FTP module is now very capable and it's <EM>half</EM>
    the size of what it was because the Library in general supports the features
    needed in the FTP module. NOTE: Generation of HTML objects from directory
    listings is disabled for the moment as we are re-implementing it using streams.
    However, now it is possible to get the raw source code directly from the
    FTP server by typing:
    <PRE>
	www -source ftp://ftp.w3.org
</PRE>
  <LI>
    Re-implemented <A HREF="../src/HTGopher.html">Gopher module</A> so that it
    uses streams for input and output instead of the obsolete
    <A HREF="../src/HTSocket.html"> HTSocket_getCharacter()</A> method. The module
    now also uses non-blocking I/O as the HTTP module and the file module. A
    result of using streams is that you now can obtain the "real" source (the
    ASCII object sent by the gopher server) by using <EM>WWW_SOURCE</EM> as the
    output format. Before the source was equivalent of the source of the HTML
    object that was generated on the fly.
  <LI>
    Updated <A HREF="../src/HTTelnet.c">Telnet module</A> to understand URL format
    <EM>user:passwd@host:port</EM>. Cleaned up the code and fixed a set of bugs
    at the same time.
  <LI>
    Support for <EM>Host</EM> header in <A HREF="../src/HTTPReq.html">HTTP Request
    module</A>. Actually this was <EM>Orig-URI</EM> but it was changed on the
    fly.
  <LI>
    Fixed bug on HTTP redirect if no body part was present. This is the new "trend"
    especially from Netscape's server. The old servers always sent back a small
    HTML document explaining if the client didn't understand automatic redirect.
</UL>
<H3>
  Stream Modules
</H3>
<UL>
  <LI>
    We now have a <A HREF="../src/HTBound.html">MIME multipart parser stream</A>
    which supports nested MIME multipart messages. This stream sets up a new
    MIME parser stream each time it finds a new body. Preamble and epilog messages
    are ignored by default but can be redirected to the special
    <A HREF="../src/HTReq.html">Debug Stream</A> output of the Request object.
  <LI>
    We have added a content counter stream and a buffer stream in
    <A HREF="../src/HTConLen.html">HTConLen module</A>. This can be used to count
    the number of bytes in a data object either to be sent to a remote server
    or as a check of a received body. Together with the Content Length counter
    stream there is also a buffer stream that can buffer up to a certain amount
    of dat before it goes transparent.
  <LI>
    We have replaced the internal format identifier <CODE>www/mime</CODE> with
    the MIME conforming <CODE>message/rfc822</CODE> format. This may affect the
    setup of stream converters that used the old format.
  <LI>
    We have also added a new <A HREF="../src/HTMIMERq.html">HTMIMERq module</A>
    which is responsible for creatin MIME metainformation when sending requests.
    This is used, for example, by the <A HREF="../src/HTTP.c">HTTP protocol
    module</A> and the <A HREF="../src/HTNews.c">NNTP protocol module</A>
  <LI>
    For the first time, it is <EM>not</EM> required to define dummy definitions
    of the external declared function in the <A HREF="../src/HText.html">HText
    Interface</A>. It is now only referenced from the
    <A HREF="../src/HTML.html">HTML module</A> and the
    <A HREF="../src/HTPlain.html">Plain Text Presentation module</A>. This means
    that applications that do not use the HTML/HText interface no more have the
    modules linked into the final object code.
  <LI>
    The <A HREF="../src/SGML.html">SGML module</A> is no longer included anywhere
    anymore except where necessary. The structured stream definition can be found
    in <A HREF="../src/HTStruct.html">HTStruct module</A>
  <LI>
    Make registration of callback function for unknown MIME headers in the
    <A HREF="../src/HTMIME.html">MIME parser</A>. The application can now more
    easily experiment with new headers. The registration process is described
    in the section <A HREF="Using.html">How to get Started Writing an App</A>
  <LI>
    Added support for png (lossless graphics format) (patch from unknown?) into
    the <A HREF="../src/HTGuess.html">Guess stream</A>
  <LI>
    Bug fixed in <A HREF="../src/HTML.html">HTML parser</A> It couldn't handle
    more than 20 nested HTML tags which can happen for example in auto-generated
    HTML documents.
  <LI>
    HTLoadError taken out completely. Replaced by the
    <A HREF="../src/HTError.html">error manager</A>. It was for (stupid) historic
    reasons put into the HTML parser.
</UL>
<H3>
  Application Modules
</H3>
<UL>
  <LI>
    <A HREF="../src/HTAlert.html">HTInteractive</A> made a private flag to
    <A HREF="../src/HTAlert.c">HTAlert.c</A>. It can now be reached via two methods
    in the module.
  <LI>
    All functions in the <A HREF="../src/HTAlert.html">Alert Module</A> now has
    a request object as part of the calling parameters. The reason is that then
    the implementation of this module can call a registered call back function
    (as described above) so that the user message can be put into the right context.
  <LI>
    Mem leak fixed in <A HREF="../src/HTLog.html">HTLog module</A> and added
    result of request to the log file. The log module is no longer called in
    the Library at all so if you do not use then it is not included in the
    application.
  <LI>
    Rewritten <A HREF="../src/HTHist.html">HTHistory module</A> to perform a
    better history mechanism - the old version did not work properly. Some of
    the new features are
    <UL>
      <LI>
	Support for multiple history lists. You can use the context information in
	the request object to find the right list at any given time.
      <LI>
	The list now supports both <EM>back</EM> and <EM>forward</EM> for navigation.
	The list is no more "back trace with deletion".
    </UL>
    <P>
    See <A HREF="Using/History.html">User's Guide</A> for more information
  <LI>
    Introduced <A HREF="../src/HTAlert.html">HTProgress()</A> notifications for
    the following operations
    <UL>
      <LI>
	DNS lookup
      <LI>
	connect to remote host (either passive or active)
      <LI>
	read data from network
      <LI>
	write data to network
      <LI>
	request finished
      <LI>
	waiting for free socket
    </UL>
    <P>
    On each of these operations, the library calls <EM>HTProgress()</EM> with
    a code so that the application can define what to do with it.
</UL>
<H3>
  Generic Utilities
</H3>
<UL>
  <LI>
    Introduced HTChunkData() and HTChunkSize() as methods in the
    <A HREF="../src/HTChunk.html">HTChunk module</A>. No more need to look into
    the HTChunk object itself.
  <LI>
    Changed HTStat to HT_STAT and HTLStat to HT_LSTAT as they are macros
  <LI>
    The <CODE>HTSimplify()</CODE> function in the
    <A HREF="../src/HTParse.html">HTParse module</A> now follows the
    <A HREF="http://www.ics.uci.edu/pub/ietf/uri/rfc1808.txt">RFC 1808
    Specification</A>
  <LI>
    Fixed bug in <A HREF="../src/HTParse.c">HTCanon()</A> that got confused about
    &lt;http://teller.datawave.net:80/test/../imx/weelogo.gif&gt; thanks to Henry
    Minsky
  <LI>
    <A HREF="../src/HTParse.c">HTCanon()</A> made private to
    <A HREF="../src/HTParse.html">HTParse module</A> as it is called from
    HTSimplify() only
  <LI>
    All <EM></EM> replaced with <EM>(wb|ab)</EM> if known binary output. This
    was a problem on Windows 3.1 platform as it inserted extra <EM>CRLF</EM>
    line terminators.
  <LI>
    Created HTNumToStr() in <A HREF="../src/HTString.html">HTString Module</A>
    to convert a number to a string using prefixes. This can be used in the progress
    notification to write <EM>Read 1.6K</EM> etc.
</UL>
<H2>
  Library 3.1, November 14 1995
</H2>
<P>
Official release
<H2>
  Library 3.1pre3 Release Notes, November 13
</H2>
<P>
This is a last test of the 3.1 release. The official 3.1 release will follow
in a few days. The purpose of this third pre-release is simply to avoid any
obvious problems while we still have time. Very little will change in the
final release! The big difference is that Windows NT is fully supported!
<H3>
  New Features and Interfaces
</H3>
<UL>
  <LI>
    Changed "rs6000" to "AIX" and "decstation" to "ultrix" in BUILD script. The
    previous names were not obvious
  <LI>
    Have created <A HREF="../src/HTProt.html">HTProt module</A> which handles
    protocol module registration. It used to be in
    <A HREF="../src/HTAccess.html">HTAccess module</A>, but this module is now
    uniquely for user requests
  <LI>
    Changed the names of the following functions in the
    <A HREF="../src/HTProt.html">HTProt module</A>
    <PRE>
	HTRegisterProtocol	-&gt; HTProtocol_add
	HTProtocolDispose	-&gt; HTProtocol_deleteAll
	HTProtocolBlocking	-&gt; HTProtocol_isBlocking
</PRE>
  <LI>
    Canonicalization now understands host names terminated with a ":", for example
    "www.w3.org:" is converted into "www.w3.org"
  <LI>
    HTEvnttd.c is removed from the source tree; it's no longer needed. Likewise,
    HTEvent.c is no longer needed; it has been superseded by HTEvntrg.c and
    HTEvntrg.html.
  <LI>
    Added support for REENTRANT versions of
    <PRE>
	getlogin_r
	gethostbyname_r
	gethostbyaddr_r
	ctime_r
	localtime_r
	gmtime_r
	asctime_r
	ctermid_r
	rand_r
	readdir_r
</PRE>
    <P>
    <EM>except</EM> in <A HREF="../src/HTFTP.html">HTFTP module</A> as it will
    be changed later. Some of the function cause problems on Solaris...
</UL>
<H3>
  Bug Fixes
</H3>
<UL>
  <LI>
    Fixed bug in HTBind_getSuffix that caused garbage file suffixes
  <LI>
    Fixed memory leak in HTAnchor if a child has more than one destination
</UL>
<H2>
  Library 3.1 Prerelease 2, November 1 1995
</H2>
<P>
The code word for the 3.1 release is support for remote collaborate work
where people can use HTTP and the Web as a remote authoring environment.
The reason for the slight delay is that this release has a new "Post Web"
model for implementing PUT and POST, the documentation has been reorganized
and rewritten, and some other important features have been incorporated.
The Post Web model is described in the new documentation, see the reference
below.
<P>
In addition to the new set of features and functionality this release also
is the first example of source code distributed under the W3C conditions.
This means that the code is available to consortium members only within a
month from the release date.
<P>
A lot of the work put into this release has been to update the API of the
Library. This is mainly described in the new "User Guide", so please do read
this and remember that comments are welcome!
<H3>
  New Features and Interfaces
</H3>
<UL>
  <LI>
    The Post Web model is supported by the following methods to handle the HTRequest
    object
    <UL>
      <LI>
	HTRequest_removeDestination()
      <LI>
	HTRequest_linkDestination()
      <LI>
	HTRequest_unlinkDestination()
      <LI>
	HTRequest_removePostWeb()
      <LI>
	HTRequest_killPostWeb()
    </UL>
  <LI>
    <A HREF="../src/HTFile.html">HTFile module</A> is completely rewritten as
    a state machine much like the <A HREF="../src/HTTP.html">HTTP module</A>.
    It is now possible to have non-blocking, interruptible I/O and to PUT and
    POTS from a local file as well as from a remote HTTP server.
  <LI>
    HTCopyAnchor is rewritten to use the PostWeb
  <LI>
    The thread model is extended to include a HTThread_kill() function so that
    threads are terminated immediately upon request
  <LI>
    <A HREF="../src/HTProxy.html">HTProxy module</A> is introduced. This module
    substitutes the environment variables for defining gateways and proxies.
    It can now be done dynamically at run time. For backwards compatibility
    HTProxy_getEnvVar() can be used to read the most used environment variables.
  <LI>
    Taken socket read/write functionality out of HTFormat and created
    <A HREF="../src/HTSocket.html">HTSocket module</A> which handles all the
    basic network access
  <LI>
    Spawned <A HREF="../src/HTMethod.html">HTMethod module</A> from HTAccess
    module
  <LI>
    Better handling of WAIS src files and use of gateway information
  <LI>
    Upgraded the WAIS to handle version 0.5 of the freeWAIS library.
  <LI>
    Better handling of media types from WAIS responses (guessing)
  <LI>
    All HTTP headers can now be transmitted and received and they can all be
    enabled/disabled using a bitmask.
  <LI>
    New functions to support accept encoding, language, and charset
  <LI>
    Guess stream now handles macbinhex format
  <LI>
    No more circular references in any of the Library include files
  <LI>
    Introduced REMOVE and RMDIR as macros instead of direct system calls
  <LI>
    Removed HTRequest_clear() - it's not safe to reuse a request object
  <LI>
    HTStrip() is now placed in the HTString module
  <LI>
    introducing the method used in the link object in the anchor
  <LI>
    HTTP modified to support PostWeb
</UL>
<H3>
  Bug Fixes
</H3>
<UL>
  <LI>
    Cache is now avoided if in secure mode (no access to local file system)
  <LI>
    Bug fix to allow simultaneous read and write on the same socket
  <LI>
    Stream stack now dumps to local file if no conversion can be made
  <LI>
    Bug fix that caused core dumps for HTTP 0.9 servers
  <LI>
    Bug fixed in stream stack if system() call is not present. This release has
    a new model called "Post Web" for handling put and post from a source to
    a multiple number of destinations. Furthermore
</UL>
<H2>
  Library 3.1 Prerelease 1, May 20 1995
</H2>
<P>
A lot of the work put into this release has been to update the API of the
Library. This is mainly described in the new <A HREF="../Using/">User
Guide</A>, so please do read this and remember that comments are welcome!
<H3>
  New Features and Interfaces
</H3>
<UL>
  <LI>
    Windows NT Support (and possibly Windows 3.1 with Win32S) thanks to Charlie
    Brooks, &lt;cbrooks@osf.org&gt;
  <LI>
    A lot easier handling of headers in the HTTP module including support for
    extra headers
  <LI>
    Improved <A HREF="../src/HTMIME.html">HTTP/MIME parser</A> which recognizes
    99% of the HTTP headers The rest will be ready in the next release! This
    includes support for "charset" and "level" parameter
  <LI>
    Support for PUT and POST. This is not yet fully implemented but it is possible
    to experiment with it
  <LI>
    Big enhancement of the anchor module with support for all HTTP/1.0 headers,
    garbage collection etc.
  <LI>
    The Cache manager is made more object oriented with a broader set of methods.
    The garbage collector is not the best
  <LI>
    HTBind module created for better bindings to file system with new hash function
    for improved speed and more functionality than before
  <LI>
    Created HTDateTimeStr() and HTMessageID() in
    <A HREF="../src/HTString.html">HTString</A>
  <LI>
    Separated HTStructured into its own stream definition module
    (<A HREF="../src/HTStruct.html">HTStruct.h</A>)
  <LI>
    Introduced STREAM_TRACE and BIND_TRACE as new debug flag
  <LI>
    Original reason messages are now passed back as a parameter by the error
    handler when talking to a remote HTTP server
  <LI>
    Introduction of error_format in the request object. This can be used to get
    debug information out of the Library
  <LI>
    Better handling of media types in FTP and Gopher including recognition of
    UU encoded files
</UL>
<H3>
  Bug Fixes
</H3>
<UL>
  <LI>
    Eventloop responds now faster on events as it more often does a select
  <LI>
    HTTP version strings are now string and not floats
  <LI>
    Many platform dependent macros introduced and a lot of cleanup
</UL>
<P>
<B><BIG><BIG> <IMG SRC="../../Icons/32x32/caution" ALT="Note" BORDER="0">
</BIG></BIG></B><BIG><BIG><I><A HREF="http://www.cern.ch">CERN</A> terminated
its direct engagement in the World Wide Web with the release of Library version
3.0. The code is now developed and maintained by
<A HREF="http://www.w3.org">W3C</A>. </I></BIG></BIG>
<H2>
  Library 3.0, Mar 21 1995
</H2>
<P>
Many of the modifications and new features are mentioned under the pre-releases.
<UL>
  <LI>
    Changed all <EM>float</EM> to <EM>double</EM> in order get it consistent
    with the working floating type in C
  <LI>
    Fixed problems with memory in HTML.c
  <LI>
    Introduced definition of <CODE>errno</CODE> constants for WIN32, as WinSock
    doesn't define them using BSD notation
</UL>
<H2>
  Library 3.0 Prerelease 3, Mar 10 1995
</H2>
<H3>
  New or Changed Features
</H3>
<UL>
  <LI>
    All library include files which contains public information for applications
    are now contained in the single include file
    <A HREF="../src/WWWLib.html">WWWLib.h</A> which is the only one necessary
    <B>PLEASE DON'T USE ANYTHING ELSE!!!</B>
  <LI>
    Changed TRACE messages so that the target is the macro TDEST and not stderr.
    This means that on platforms that don't support stderr, TRACE messages can
    be redirected to a local file.
  <LI>
    Due to the PC Port some modules (definition and declaration files) have changed
    names so that the max length is 8 characters:
    <UL>
      <LI>
	s?HTFWriter?<A HREF="../src/HTFWrite.html">HTFWrite</A>?g
      <LI>
	s?HTHistory?<A HREF="../src/HTHist.html">HTHist.h</A>?g
      <LI>
	s?HTEPtoClient?<A HREF="../src/HTEPtoCl.html">HTEPtoCl</A>?g
      <LI>
	s?HTDescript?<A HREF="../src/HTDescpt.html">HTDescpt</A>?g
      <LI>
	s?HTExtParse?<A HREF="../src/HTXParse.html">HTXParse</A>?g
      <LI>
	s?HTErrorMsg?HTErrMsg?g
    </UL>
  <LI>
    Move EnableFrom to <A HREF="../src/HTAccess.html">HTAccess module</A>. This
    variable determines whether the HTTP header <EM>From: </EM> should be generated.
    The default value is <EM>off</EM>
  <LI>
    Sockets are no longer assumed to be small, non-negative integers, but uses
    macros. This should ensure portability to Windows NT.
  <LI>
    Introduced socerrno and errno so that WinSock can use its own definition
    whereas `local' errno can still use the well-known version.
  <LI>
    Introduced <CODE>error_stream</CODE> as field a HTRequest object. All information
    contained in HTTP responses which don't naturally contain a body entity,
    for example redirection codes (3xx) and client error codes (4xx) will be
    put down this stream so that it can be put into a debug window.
  <LI>
    HTNewsHost is now a local variable in the <A HREF="../src/HTNews.html">HTNews
    module</A>. Use HTGetNewsHost and HTSetNewsHost to set and get the current
    value. The news module will be rewritten in the near future as it has many
    problems.
  <LI>
    The <A HREF="../src/HTTP.html">HTTP</A> module understands all HTTP/1.0 return
    codes and is more solid
  <LI>
    Many portability problems has been solved and optimized. Most system dependent
    things are now put into <A HREF="../src/sysdep.html">tcp module</A>
  <LI>
    Interface to CSO name server made nicer - generates correct HTML
</UL>
<H3>
  Bug Fixes
</H3>
<UL>
  <LI>
    file:// no more tries ftp:// if host=localhost
  <LI>
    Improved proxy support and fixed bug when reloading a document from a proxy
  <LI>
    Bug fixed in HTGetHostName() which didn't include a dot &lt;.&gt;
  <LI>
    Bug fixed if UserID/passwd was not correct and don't want to retry
  <LI>
    HTErrorAdd and HTErrorSysAdd no always return HT_ERROR
  <LI>
    Fixed bug in HTGetDomainName when no domain name is present at all
  <LI>
    Add output_flush to request object
  <LI>
    Uses IOCTL as a macro now - not fcntl
  <LI>
    <EM>and a lot of other stuff...</EM>
</UL>
<H2>
  Library 3.0 Prerelease 2, Dec 2 1994
</H2>
<UL>
  <LI>
    Introduced memory cleanups from Eric Sink into <CODE>HTLibTerminate()</CODE>
  <LI>
    Now the client can provocate a call to <CODE>HTEventRequestTerminate()</CODE>
    even when the request never enters the eventloop. This is necesary so that
    the client can cancel busy icons, spinning globes etc.
  <LI>
    Introduced <CODE>EVENT_TERM</CODE> as return code for the HTEventHandler
    function
  <LI>
    <CODE>HTEventHandler() now</CODE> has a double pointer so that the request
    pointer can be modified from the client
  <LI>
    Fixed bug in <CODE>HTSearch()</CODE> and <CODE>HTLoadRelative()</CODE> where
    wrong return code was returned (BOOL instead of int)
  <LI>
    Introduced BlockingIO field in the request object to override the the mode
    registered in the protocol object. This can be used as an easy way to make
    blocking I/O
</UL>
<H2>
  Library 3.0 Prerelease 1, Nov 26 1994
</H2>
<H3>
  New and Changed Features
</H3>
<UL>
  <LI>
    Introduced the function HTLibInit() and HTLibTerminate() which MUST be called
    when the application starts up and terminates.
  <LI>
    Introduced the modules HTThread and HTEvent. HTEvent is the client interface
    when using multithreaded functionality and HTThread is the internal socket
    management
  <LI>
    All __STDC__ defines now concentrated to HTUtils.html where it is called
    _STANDARD_CODE_ so that _cplusplus also handles this
  <LI>
    `new' and `template' not used a names anymore (confuses C++)
  <LI>
    Removed from field in HTRequest object. This is now handled by the functions
    HTGetMailAddres and HTSetMailAddress and the flag HTEnableFrom in the HTTP
    module.
  <LI>
    Changed HTSetMailAddress so that a call with parameter equals NULL or ""
    clears the contents of the mail-address.
  <LI>
    The number of parameters to Streamstack function is now compatible with the
    arguments to a stream converter, so that we don't loose any information while
    putting up the stream stack.
  <LI>
    HTOutputSource variable is removed. You should use WWW_SOURCE in the request
    object
  <LI>
    HTGuess stream is a a converter compatible stream so that it actually can
    be setup as a converter
  <LI>
    The stream methods `abort' and `_free' now returns int instead of void. On
    success from these methods `_free' returns 0 and `abort' return EOF
  <LI>
    Taken HTEscape and HTUnescape and put them into the HTEscape module. The
    functionality is the same but now they can be used in utility programs without
    linking in the whole Library
</UL>
<H3>
  Bug Fixes
</H3>
<UL>
  <LI>
    Removed bug in WAIS module which caused a lot of core dumps
  <LI>
    Removed bug in format classification from URL suffix in HTGoper when the
    file was plaintext
  <LI>
    <EM>localhost</EM> is now recognized again after canonicalization in
    <CODE>HTLoadFile()</CODE>
  <LI>
    WAIS SEARCH now produces proper HTML
  <LI>
    Max number of lines in WAIS decreased to 200 as 250 (previous) dumps core
  <LI>
    Bug fixed in <CODE>HTGetHostName()</CODE> if we must use the getdomainname()
    function.
  <LI>
    Added some support for SCO
  <LI>
    Handling of gopher items of type ERROR (3) changed so no more core dumps
    in server
</UL>
<H2>
  2.17 Release on November 25 1994
</H2>
<H3>
  New and Changed Features
</H3>
<UL>
  <LI>
    The host-cache is now extended so that it tries <EM>all</EM> IP-addresses
    before it fails the request. It always starts with the fastest
    IP-address.Different penalty is added to the connect times dependent of the
    errno returned from <CODE>connect()</CODE>.
  <LI>
    In addition to HTSimplify which canonicalizes the URL path, a new function
    now canonicalizes the host-part of the URL. This means that URLs like
    <PRE>
	http://info/ = http://www.w3.org:80/ = http://INFO.CeRn.CH/ =
	http://www.w3.org. = http://www.w3.org/
</PRE>
    <P>
    now all are treated identical. This is useful for all the caches based on
    URLs such like the Server document cache and the hostname cache
  <LI>
    TRACE is now differentiated into a bit flag so that TRACE messages can be
    turned on and off for individual groups of messages. This was necessary as
    the amount of verbose output was growing too much
  <LI>
    Redirection understands now `URI:' and `Location:'. Implemented after discussion
    on www-talk
  <LI>
    Changed 404 Error Message to `Access Forbidden'. The URL is no more included
    in the message as it is sensitive information
  <LI>
    FTP client now sends full email address of the user as the password for anonymous
    access instead of USER@. This allows access to some servers which don't accept
    the old format
  <LI>
    The data connection in a FTP session is now based on the return value sent
    by the PASV return code rather than the URL. It is not always the case that
    the data connection is on the same host as the control connection
  <LI>
    UserID and Passwd in FTP URLs can now contain special characters, like '@'
    etc.
  <LI>
    The Gopher listings are now slightly lighter and don't contain the `name'
    and `files' any more
  <LI>
    Support of Gopher info items. They are treated as normal messages. The gopher
    code for this is `i'
  <LI>
    WAIS module now guesses the stream format when TEXT is returned from the
    WAIS library as it might be HTML.
  <LI>
    The Protocol modules: FTP, WAIS, and Gopher now produce proper HTML with
    etc. in the beginning
  <LI>
    Added a function that returns the domain name taken from the same location
    as HTGetHostName(). The functionality of obtaining current host names, mail
    addresses etc. have improved, see HTTCP.html for more
  <LI>
    Introduced the flag HTInteractive in HTAccess.html to tell whether functions
    in HTAlert can prompt the User from within the Library or not. Default is
    YES.
  <LI>
    The common BUILD for the Line Mode Browser, the CERN Server and the W3C Reference
    Library now accepts a command line option:
    <PRE>
	BUILD linemode | daemon | library
</PRE>
    <P>
    to build a specific component. The default action is to build all three parts.
    BUILD is now also provided in a Bourne Shell version
</UL>
<H3>
  Bug Fixes
</H3>
<UL>
  <LI>
    Fixed memory leak in HTWAIS Doc retrieval. However, the functionality or
    performance has not changes
  <LI>
    If no host is found in the URL then no attempt is made to connect to host
    0.0.0.0 that is localhost. Some hosts do have an alias for this address
  <LI>
    Fixed free memory read in redirections. Put redirection counter into request
    object. Now no more than (default) 10 redirections are allowed
  <LI>
    Fixed bug in FTP module to handle really slow hosts in the select call. The
    select timed out without the right action taken.
  <LI>
    FTP module chopped off the first line of a Windows NT ftp server as it doesn't
    send a traditional first UNIX line. Fixed! Well, it <EM>did</EM> look like
    UNIX, but no more than that :-(
  <LI>
    Problem in HTTeXGen. Some markups was spread over a new line, and LaTeX doesn't
    like that.
  <LI>
    Remove the <CODE>ACCESS_AUTH</CODE> define as it is never used anymore (no
    more compilation without access authentication)
  <LI>
    Fixed bug in the ISO Latin 1 translation table in HTML.c. This was a problem
    for estonian documents or other with many special characters
  <LI>
    Fixed bug in HTSimplify not skipping host names. HTSimplify is made faster
    and is now only called once (both from the server and the client). Before
    it was called 2-3 times.
  <LI>
    Bug found in FTP URLs containing UserID and Passwd fixed
  <LI>
    Bug fixed in name generation in client cache
  <LI>
    Removed bug in FTP and IP-rotation on multi-homed hosts. When FTP server
    is in PASV mode it sends back a port number on a specific host. In this case
    we can't use IP-address rotation.
  <LI>
    Bug with FTP IP-address network order fixed for PASV mode
  <LI>
    Gopher errors (code 3) are now just put as a string as they are not
    <B>real</B> error
  <LI>
    Bug fixed in HTWriter.c function <CODE>flush()</CODE> where a partial success
    in NETWRITE would produce a wrong output (repeated buffer)
</UL>
<H2>
  2.16 Prerelease 2, November 1994
</H2>
<H3>
  WAIS Client
</H3>
<P>
The WAIS client has been improved and some bugs have been fixed:
<UL>
  <LI>
    Bug in the parser of the search result from the WAIS module fixed
  <LI>
    Maximum number of lines presented from a search made a configuration variable.
    Default value is 100 (was 40)
  <LI>
    Introduced WAIS's own error messages as they are returned from the WAIS library
  <LI>
    The presentation of WAIS on the screen made nicer (well - I think it is!)
</UL>
<H3>
  HTTCP Module
</H3>
<UL>
  <LI>
    Bug in the host cache fixed
</UL>
<H3>
  Access Authorisation
</H3>
<UL>
  <LI>
    Premature free of memory fixed
  <LI>
    Missing initialization fixed
</UL>
<H2>
  2.16 Prerelease 1, April 1994
</H2>
<H3>
  New Features and Changed Interfaces
</H3>
<H4>
  HTTP Client
</H4>
<P>
<A HREF="../src/HTTP.html">HTTP</A> module contains the code for the HTTP
client. The module is now reorganized and made more modular.
<DL>
  <DT>
    Automatic Redirection
  <DD>
    Now supported by the HTTP Module. The name of the new URL is parsed to the
    client via the error_stack as a ERR_INFO message, see
    <A HREF="../src/HTError.html">HTError</A> module. The maximum number of
    redirections is set by the variable HTMaxRedirections.
  <DT>
    Referer Field in HTTP request
  <DD>
    Clients are provided the possibility of sending a
    <A HREF="../../Protocols/">Referer Field</A> in a
    <A HREF="../../Protocols/">HTTP Request</A>. This is done by filling out
    the HTRequest-&gt;parentAnchor field.
  <DT>
    From field in HTTP Request
  <DD>
    Clients can now send the full email address of the current user in the
    <A HREF="../../Protocols/">HTTP From field</A>. The feature is turned off
    by default as it might get a bit tricky through a Proxy.
  <DT>
    204 Response
  <DD>
    Support of return code `204 No Response'
</DL>
<H4>
  FTP Client
</H4>
<P>
<A HREF="../src/HTFTP.html">HTFTP</A> module contains the code for the FTP
client. The FTP client has changed a lot in this release. It is now a complete
state machine where the actual action executed is a function of the current
state.
<UL>
  <LI>
    The client now follows the suggestions given in rfc 1123: "Requirements for
    Internet Hosts -- Application and Support".
  <LI>
    Establishment of the data connection now comply to rfc 1579: "Firewall- friendly
    FTP" such that the procedure is
    <OL>
      <LI>
	try PASV
      <LI>
	if that fails, try PORT
    </OL>
  <LI>
    The URL is now parsed according to the (latest) <A HREF="../../Addressing/">
    specifications</A>:
    <PRE>
	url	: f t p: / / login / path [  ftptype ]
	login	: [ user [ : password ] @ ] hostport
	hostport: host [ : port ]  
	ftptype	: A formcode | E formcode | I | L digits
	formcode:  N | T | C
</PRE>
  <LI>
    Both directory listings and file retrieval use the same procedure:
    <OL>
      <LI>
	First try to go to the location directly, as we are often talking to a UNIX
	server or one that 'understands' UNIX syntax
      <LI>
	If it fails, then go to the location step by step using CWD. In that way
	we should not have any problems on any platform, and thus it is not necessary
	to make special hacks for VMS, etc.
    </OL>
  <LI>
    Long directory listings are supported for unix-like systems and VMS. This
    includes NetWare and WindowsNT. See <A HREF="Workinglist.html">Future plans</A>
    for more and <A HREF="#z20">Directory Listings</A>
  <LI>
    Information from the FTP-server is pr default presented to the client using
    the following rule:
    <OL>
      <LI>
	If you are connecting to the root directory at a ftp site, we show the 'login'
	message (might be a concatenation of several messages) just like in a normal
	ftp session.
      <LI>
	If you have a more specific URL, then you probably already know the site
	and are less interested in the login message. Instead we show any local message
	when making a CWD to the right location.
    </OL>
</UL>
<H4>
  Gopher Client
</H4>
<P>
The <A HREF="../src/HTGopher.html">Gopher</A> has been revised and improved
error handling has been implemented.
<DL>
  <DT>
    Information Messages
  <DD>
    Some Gopher servers send back information messages in a line containing
    "error.host". This information is treated like login information from FTP
    servers so that it is represented as a message before or after the actual
    listing.
  <DT>
    Iconized Listings
  <DD>
    Listings now contain icons in the same way as the other listings.
  <DT>
    CSO Name Server
  <DD>
    The CSO Name Server client outputs in HTML and not only &lt;PRE&gt; as before.
  <DT>
    Content Type Recognition
  <DD>
    The Gopher module uses it's own content-type recognition inherited from HTTP
    when handling gopher text and gopher binary files. This means, that e.g.
    PostScript files get handled correctly.
</DL>
<H4>
  Local File Access
</H4>
<P>
The new version of HTFile module is a lot smaller as all Directory listing
stuff has moved to HTDirBrw module. New error handling has been implemented.
<H4>
  Passive and Active Connection Establishment
</H4>
<P>
Calls to connect() and accept() now go through the functions HTDoConnect()
and HTDoAccept() respectively.
<H4>
  Cache of Host Names and Addresses
</H4>
<P>
HTInetParse() that is called from within HTDoConnect now has an internal
cache of the names and (possible multiple) IP-addresses of visited hosts.
This minimizes the access to the file /etc/hosts and the Domain Name Server,
even though aliases are not recognized in the cache.
<P>
The default cache size is 500 entries and a host stays as long as a connect()
succeeds. That is, if connection is refused for some reason, the host is
taken out of the cache.
<P>
The time to make a connection to a multihomed host is measured every time
and a mean access time is calculated so that HTDoConnect always takes the
fastest IP-address, see <A HREF="Workinglist.html">Future plans</A>.
<H4>
  Improved Functionality of DNS requests
</H4>
<P>
The Library now provides functionality for obtaining the full mail address
of the user, full domain name of the host and also the possibility for setting
both values. This means that the user can use his official email address,
e.g. in the HTTP request.
<H4>
  <A NAME="z20">Long Directory Listings</A>
</H4>
<P>
Long directory listings for HTTP, FTP and files on the local file system
supported. For the moment only a part of the functionality, e.g, sorting,
which columns to show etc. is exploited, see <A HREF="Workinglist.html">Future
Plans</A>.
<H4>
  Icon Management
</H4>
<P>
Icons in directory listings are bound to MIME content-types and encoding.
They can be found in the <A HREF="../src/HTIcons.html">HTIcons</A> module.
The default set of icons is set up using HTStdIconInit() and new icons can
be added dynamicly using HTAddIcon().
<H4>
  File Descriptions in Directory Listings
</H4>
<P>
File descriptions are supported for long HTTP directory listings. The default
thing is to peek the title of the HTML files.
<H4>
  Error and Information Message Management
</H4>
<P>
A new error handling module is introduced in
<A HREF="../src/HTError.html"></A>HTError. It uses the error_stack entry
in the <A HREF="../src/HTReq.html">HTRequest object</A>. It handles nested
error messages so that we can give a reason for the error, e.g.
<PRE>
    Error in ...
        This error occurred because ...
            This is caused by ...
                etc.
</PRE>
<P>
It also makes it possible for the Library to pass information back to the
client so that the the Library doesn't act like a `black hole'. An example
is HTTP redirection with status code `Moved 301'. Now the new URL is parsed
back to the client via the error_stack so that the client can update the
reference when possible.
<P>
The function that generates and outputs the error messages to the user is
put into HTErrorMsg Module so that it can be overwritten by a smart client
or server.
<H4>
  Guessing the Content Type of a Stream
</H4>
<P>
The HTGuess module reads a part a stream and determines the content type
with the highest probability from a statistical analysis.
<H4>
  Minor Stuff
</H4>
<DL>
  <DT>
    tmpnam()
  <DD>
    Because of problems on NeXT platforms the tmpnam() function is now replaced
    by HTFWriter_filename() in HTFWriter.c. The function has two modes: Give
    back a hash name or the last part of the URL (which normally is more readable).
  <DT>
    HTMLPutImg()
  <DD>
    New function to make it easier to put out an HTML &lt;IMG&gt; tag.
  <DT>
    HTParseInet()
  <DD>
    Added one more parameter to tell whether it is a multihomed host or not.
    (This is used in the host cache).
  <DT>
    HTInetStatus()
  <DD>
    Should no more be used directly but is called from HTErrorAdd so that the
    message goes all the way back to the user
  <DT>
    HTError
  <DD>
    This typedef is now obsolete and will be removed in future releases
  <DT>
    HTLoad()
  <DD>
    Added new parameter to HTLoad: BOOL keep_error_stack. If YES then the error_stack
    is not cleared. This is used in redirection etc.
  <DT>
    HTLoadError()
  <DD>
    Because of the new <A HREF="../src/HTError.html">HTError</A> module, this
    function in HTML.c is not needed anymore.
</DL>
<H3>
  Bug Fixes
</H3>
<P>
This is a list of fixed bugs from earlier versions.
<UL>
  <LI>
    Memory faults in HTSimplify() in HTParse.c has been fixed
  <LI>
    README files in directory listings now know how to handle '&lt;', '&gt;'
    and '&amp;' correctly. Though the file still has to be Ascii. See
    <A HREF="Workinglist.html">future plans</A> for handling this file.
  <LI>
    tmpnam is no more used in the Library because of problems on NeXT platform.
    Instead a new function called HTFWriter_filename() in HTFWriter.c is written.
  <LI>
    HTInputSocket_getCharacter now returns a int and not a char so that EOF is
    no longer a member of the char set.
  <LI>
    HTMLGen_start_element() is only allowed to put extra '\n' in &lt;PRE&gt;
    mode if it is between parameters in a tag
  <LI>
    Changed type of &lt;IMG&gt; into SGML_EMPTY so that it doesn't expect end
    tag &lt;\IMG&gt;
  <LI>
    Nested &lt;PRE&gt; is no more a problem in HTMLGen_start_element.
  <LI>
    Removed all #elif as not all compilers on HPUX likes it.
  <LI>
    Changed HTChunk such that chunk-&gt;data is '\0' terminated at any time.
    This actually makes HTChunkTerminate less needed but be aware that
    HTChunk-&gt;size changes.
  <LI>
    Removed non-portable d_namlen field in HTMulti.
  <LI>
    Moved definition of NO_GROUPS to tch.html
  <LI>
    Moved definition of HT_MAX_PATH to tch.html
  <LI>
    Proxy server now closes connection in HTTP.c. This was only problem in
    non-forking servers (VMS).
  <LI>
    Definition of HT_NO_DATA moved to HTUtils.html where the other return codes
    are placed.
  <LI>
    Functions from <A HREF="../src/HTAlert.html">HTAlert Module</A> that prompt
    the user don't get confused about <EM>ctrl-D</EM> anymore.
</UL>
<H2>
  27 March 94 2.16beta VMS version
</H2>
<UL>
  <LI>
    <A NAME="z0" HREF="http://delonline.cern.ch/disk$user/duns/doc/vms/distribution.html">Distribution
    for VMS</A>
</UL>
<H2>
  25 March 94 - 2.15
</H2>
<H3>
  General Upgrade
</H3>
<UL>
  <LI>
    Lou Montulli's Lynx and LIST NEWSGROUP diffs put in to HTNews.c
  <LI>
    Complete <A NAME="z8" HREF="../src/HTMLPDTD.html">HTML+ DTD</A> in parser
    as per Dave Raggett's internet draft 00. All 78 elements in the spec plus
    COMMENT, H7, HTML, XMP, LISTING and PLAINTEXT for back-compatibility.
  <LI>
    Backup files created on PUT to local file (in server or client) according
    to global flag HTTakeBackup, defaults to YES.
  <LI>
    Changed interface to <A NAME="z13" HREF="../src/HText.html">HText</A> --
    added<A NAME="z12" HREF="../src/HText.html#z0"> HText_new3</A> creation method.
    All clients using this interface should ensure that the structured stream
    used during creation is reopen()ed if it is still needed to hold dcoument
    structure after the original load has been done. In this case it should later
    be freed.
  <LI>
    CHANGED INTERFACE to <A HREF="../src/HTAccess.html">HTAccess</A>: Now an
    HTRequest environment is passed to almost all calls. Allows better reentrant
    use of library for image embedding, etc. Implies (minor) changes to all clients.
  <LI>
    Changed HTConverter definition. Should be internal only, uness you register
    new converters. Now take more useful parameters.
  <LI>
    HTSaveAndCallBack stream allows simple implementation of embedded graphics:
    just load them with all conversions you can hadle using HTSaveAndCallBack
    -- you will be called back with a filename when the image is on disk.
  <LI>
    Initialization: Calling of HTInit functions now not done by library -- if
    you want them, you call them from the application.
  <LI>
    xxx_proxy environment variables for forwarding requests to a proxy (e.g.
    http_proxy , ftp_proxy , gopher_proxy ).
  <LI>
    no_proxy environment variable to override the proxy; e.g.
    <PRE>
        setenv no_proxy "cern.ch, foo.bar:8001, ncsa.uiuc.edu"
</PRE>
  <LI>
    Bug causing FTP binary file transfers failing fixed.
  <LI>
    Fix to Gopher code -- Now tries to do own filetyping with unknown gopher
    types. Even if this fails doesn't truncate binary files.
  <LI>
    Local directory listing bug with trailing slash fixed.
  <LI>
    Better multiformat handling, HTMulti(), with welcome page support.
  <LI>
    The eight misplaced cern_httpd access authorization modules moved away from
    the library.
  <LI>
    Parts with inefficient list handling rewritten -- better performance.
  <LI>
    Non-modal changes for password prompting -- I suspect this doesn't work yet.
    Someone who is implementing a GUI client please contact me
    &lt;luotonen@dxcern.cern.ch&gt;.
  <LI>
    The PlainToHTML text converter now works.
  <LI>
    A basic HTMLToTeX converter is implemented. It understands fairly well written
    HTML documents but can not recover serious HTML errors.
  <LI>
    All caching is turned off on the client side in this release until a more
    stable solution is found.
  <LI>
    tmpnam() not used any more as it caused problems on a NeXT. Instead the function
    HTFWriter_filename() returns a hash or the last part of the URL as filename.
  <LI>
    HTML titles now get parsed as well. This is in order to convert foreign letters
    etc. But if somebody puts a list into the title....
</UL>
<H3>
  International
</H3>
<UL>
  <LI>
    Patches for parsing SGML with
    2-byte<A NAME="z15" HREF="http://www.ntt.jp/japan/note-on-JP/encoding.html">
    japanese encoding</A> included,
    from<A NAME="z16" HREF="http://www.brl.ntt.jp/~takada/takada.html">
    takada@seraph.ntt.jp</A> .
</UL>
<H3>
  Bug Fixes
</H3>
<UL>
  <LI>
    Bug fixed in HTFile.c prevented .multi multiformat links from working under
    Solaris, maybe other SYSV.
  <LI>
    Bug fix in client HTTP: "Accept" line params preceded by ";" now as per spec.
  <LI>
    Bug fixed in HTBTree.c that crashed for some large directories.
</UL>
<H2>
  15 December 2.14vms
</H2>
<UL>
  <LI>
    <A NAME="z17" HREF="http://delonline.cern.ch/disk$user/duns/doc/vms/distribution.html">Provisional
    Distribution for VMS</A>
</UL>
<H2>
  17 November 2.14
</H2>
<UL>
  <LI>
    Contains port to VMS.
  <LI>
    Bug fix in HTML generation -- line wrapping code produced garbage. Affected
    servers working as gateways and also editors writing back HTML.
  <LI>
    Buf fix: static string returned by crypt() was free() 'd.
</UL>
<H2>
  4 Nov 93 Version 2.13
</H2>
<UL>
  <LI>
    Bug fix: FTP text transfer don't end when 8 bit characters used. Still end
    on character -1. Thanks to Bjoern Stabell (bjoerns@staff.cs.uit.no)
  <LI>
    A single function HTPromptUsernameAndPassword() so that GUIs can have a single
    authentication dialog box.
  <LI>
    Extensive filename suffix recognition defaults.
</UL>
<H2>
  11 Oct 93 Version 2.12
</H2>
<UL>
  <LI>
    Authroization in. See Ari's documentation. Everything is back-compatible,
    but there are large extenions to the rule file syntax, plus new ACL and
    protection setup files. Authorization is done by password in the clear now,
    with hooks for public key later.
  <LI>
    Some other bug fixes. Not all the reported ones.
</UL>
<H2>
  8 Sept 93 Version 2.11
</H2>
<UL>
  <LI>
    Binary transfer problems tackled in HTTP. Yukky problem of existing illegal
    0.9 server producing binary which looks like text is unsolved. No problems
    with HTTP 1.0 transfer.
  <LI>
    Streams: end_document method removed. "Abort" method added as requested at
    W5 -- use this when a pipe (stream stack) is broken by an error prevents
    execution etc of partially written files for example.
  <LI>
    New stream HTNetToText for converting Net ASCII to local C representation.
  <LI>
    Bug fix: Directories represented with anchors all with empty string (as opposed
    to no) names: many NAME="" in anchors.
  <LI>
    Bug fix: application/octet-stream replaces application/binary as per MIME.
  <LI>
    CSO Nameserver code to HTGopher added as Mosaic originally from ???. (AS)
  <LI>
    Bug fix: HTTPD would return an old-style (non-MIME) response when sending
    back a file in unrecognised format, evn if client was using HTTP 1.0.
</UL>
<H2>
  Version 2.10 Not released due to WWWWW
</H2>
<UL>
  <LI>
    Bug fix: crashed with error message when doing a Gopher search.
  <LI>
    WAIS type "HTML" recognised as HTML. Other types treated as application/binary.
</UL>
<H2>
  30 November 1993, version 2.09a
</H2>
<UL>
  <LI>
    Bug fix: A space was not allowed befoe the tagcloser (&gt;) of an end tag.
    Now it is. Also (untested), empty close tags should be allowed a la
    "&lt;h1&gt;heading&lt;/&gt;". Not recommended, but in.
  <LI>
    Bug fix: HTML nesting stack overflow check.
  <LI>
    Bug fix: Compilation under IBM MVS didn't work.
</UL>
<H2>
  23 November 1993, version 2.09
</H2>
<P>
At last this stupid library is aware of content-transfer-encoding. When defining
file suffixes you must define not only the content-type (eg
application/postscript) but also the encoding (eg binary, or 7bit). The first
effect of this is to get the proper mode selected for FTP transfers. This
means you can do a
<P>
<PRE>
	www -source ftp:/xx.yy.edu/pub/junk/foo.tar.Z &gt; junk.tar.Z

</PRE>
<P>
and it will work as expected.
<P>
On the client side, you can define the presentation method for any given
MIME-style 'content type". This is done in the rule file too.
<H2>
  2.08
</H2>
<UL>
  <LI>
    You can define file suffix conventions in the server and/or client rule files.
    This allows you to set up a server which for example, trateas .ai files as
    application/postscript, etc, or specifies that .ME is generally text.
  <LI>
    You can define how a new content type will be rendered in the rule file of
    a client.
</UL>
<H2>
  15 November 93, version 2.07
</H2>
<UL>
  <LI>
    If you telnet to the www client (-h option): 1. it is more secure: No local
    file access. 2. you can use /etc/www-remote.url file to specify the url of
    the home page for telnet users.
  <LI>
    Library uses fopen() rather than open(), allowing file access on non-unix
    machines.
</UL>
<H2>
  7 November 93, 2.06
</H2>
<UL>
  <LI>
    Check against local hostname in file access is now string insensitive.
  <LI>
    HTML parser: entities were not expanded at outer level.
  <LI>
    HTTP client sends client name and version. Requires HTAppName
  <LI>
    FTP client fix: Continuation lines which do not have - in are now handled
    properly as per the spec.
</UL>
<H2>
  May 1993 version 2.05a
</H2>
<UL>
  <LI>
    Bug fix in directory reading of local files -- it didn't work! The stopped
    the daemon working on directories.
  <LI>
    Bug fix in DIR handling for browers: tabs work again in directory listsings.
</UL>
<H2>
  22 April 1993 version 2.04
</H2>
<UL>
  <LI>
    WAIS handling code in library, no need to go through a gateway of you compile
    with the right options abd link with freeWAIS. First version of this, no
    bells or whistles.
  <LI>
    sysdep.h systems specifics for SCO picked up from mosaic but directory handling
    not fixed yet ...
</UL>
<H2>
  20 April 1993 version 2.03c:
</H2>
<UL>
  <LI>
    Use of identifier "this" removed to prevent conflicts with C++
  <LI>
    _AIX cpp defined picked up for AIX.
  <LI>
    In networking code, no assumption that \n is 10 on even on ASCII machines
    (for Mac/MPW).
  <LI>
    Server bug fix after Sebastian.Wilhelmi@isst.fhg.de -- exited with bad status
    even if all OK.
</UL>
<H2>
  19 April 1993 version 2.03b
</H2>
<UL>
  <LI>
    Distribution bug fix: s/Specific/All/ on line 2 of WWW/All/Makefile.product
  <LI>
    SGML bug fix: treatment of entities was on when would be off and vice-cversa.
  <LI>
    Sun binaries linked with -Bstatic to make them transportable
  <LI>
    Bug fix: Sometimes, client would ignore first part of returned file.
</UL>
<H2>
  17 Mar 93 Version 2.02-beta
</H2>
<UL>
  <LI>
    Bug fix: Falls back to old HTTP with servers which don't like the new HTTP.
  <LI>
    BUILD file for easy installation of library, httpd and www
</UL>
<H2>
  15 Mar 93 Version 2.0 alpha:
</H2>
<P>
Incompatible library release has cleaned up interfaces. Developers read the
.h files! Version 2 libraries must be compiled with version 2 products and
vice-versa. Version 2 clients will access (most) version 1 servers OK, version
2 servers will respond correctly to (all) version 1 clients.
<UL>
  <LI>
    Bug fix: Gopher connections wasted socket numbers and eventually used them
    all up. (Thanks Marc Andreessen)
  <LI>
    Rule file used by clients as well as servers.
  <LI>
    MIME parser takes content-type field from MIME messages and invokes appropriate
    registerd presentation method for each type.
  <LI>
    Local and remote multiformat files.
  <LI>
    ***HTSearch and HTLoadRelative parameters changed! HTMainAnchor and HTMainText
    globals are no longer used by the library.
  <LI>
    HTAccess package now registers known protocols in list.
  <LI>
    HT{G,S}etNewsHost available from HTNews module.
  <LI>
    SGML parser speeded up
  <LI>
    New software intrerface introduced: HTStructuredClass. This should make use
    of the library easier with clients, and allow more code in common between
    clients and servers.
  <LI>
    Hooks for handling new formats with other applications
  <LI>
    General hooks for status messages, user query, progress monitoring, etc.
    (HTAlert module)
</UL>
<H2>
  6 January 1993, Version1.1a
</H2>
<UL>
  <LI>
    Can revisit telnet nodes.
  <LI>
    Tn3270 access type accepted.
  <LI>
    FTP password for anonymous is now WWWuser@ withouyt a hostname, for software
    on ftp.uu.net etc.
  <LI>
    Bug fix in HTML.c: Would crash when a list was the first visible element
    in a text object.
</UL>
<H2>
  <A NAME="z4">11 December 1992, Version 1.1</A>
</H2>
<UL>
  <LI>
    Added &lt;PRE&gt; tag as in <A HREF="../../MarkUp/">new HTML spec</A>.
  <LI>
    Added numeric character reference handling for future use.
</UL>
<H2>
  December 1992, Version 1.0c
</H2>
<UL>
  <LI>
    Fixed bug in FTP handling (FTP file retrieve put control connection in bad
    state)
  <LI>
    Fixed bug in Gopher handling on non-ASCII platforms. Also, bug fix in Gopher
    search of index whose name contained characters (like blanks) escapes with
    %.
  <LI>
    Fixed bug in NEWS handling, failed on non-ASCII platforms.
</UL>
<H2>
  November 1992 Version1.0b
</H2>
<UL>
  <LI>
    Fix some bugs in Make system.
  <LI>
    Memory bug fixed: On failure to connect to HTTP server, it would free() an
    uninitialized pointer!
  <LI>
    Some trace messages were output to stdout instead of stderr
  <LI>
    Allow "ftp:" prefix on URL . Effect is currently equivalent to that of the
    "file:" prefix.
  <LI>
    Local file access not allowed in secure mode. (telnet access was never allowed
    in this mode). Secure mode is used for telnet server and mail robot.
</UL>
<H2>
  November 1992 version 1.0
</H2>
<UL>
  <LI>
    Library libwww.a made independently of browsers to save time and space and
    to force good modularity
</UL>
<P>
  <HR>
<ADDRESS>
  Henrik Frystyk Nielsen, <A HREF="mailto:libwww@w3.org">libwww@w3.org</A>,
  <BR>
  @(#) $Id: History.html,v 1.1.1.1 1996/10/15 13:08:32 cvs Exp $
</ADDRESS>
</BODY></HTML>
