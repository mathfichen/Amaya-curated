# Build the shared library support.
#
# Copyright (c) 1996 T. J. Wilkinson & Associates, London, UK.
#
# See the file "license.terms" for information on usage and redistribution
# of this file, and for a DISCLAIMER OF ALL WARRANTIES.
#
# Written by Tim Wilkinson <tim@tjwassoc.demon.co.uk>, 1996.

srcdir=		@srcdir@
MKDIR=		@MKDIR@
subdirs=	APIcore APInet APIagent
CLASSDEST=	classes

all:
		@for i in $(subdirs); do (cd $$i ; $(MAKE) all) || exit 1 ; done

all-classes:
		@test -d $(CLASSDEST) || $(MKDIR) $(CLASSDEST)
		@for i in $(subdirs); do (cd $$i ; $(MAKE) all-classes) || exit 1 ; done

clean:
		for i in $(subdirs); do (cd $$i ; $(MAKE) clean) ; done
		rm -rf $(CLASSDEST)

distclean:
		for i in $(subdirs); do (cd $$i ; $(MAKE) distclean) ; done
		rm -rf $(CLASSDEST)
		rm -f Makefile
		-rmdir $(subdirs) $(CLASSDEST)

install:
		for i in $(subdirs); do (cd $$i ; $(MAKE) install) || exit 1 ; done
